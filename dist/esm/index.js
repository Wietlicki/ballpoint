import e,{Component as t,createRef as n}from"react";var o,r={exports:{}},i={};var s,a={};
/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */"production"===process.env.NODE_ENV?r.exports=function(){if(o)return i;o=1;var t=e,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,o){var r,i={},c=null,d=null;for(r in void 0!==o&&(c=""+o),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:n,type:e,key:c,ref:d,props:i,_owner:a.current}}return i.Fragment=r,i.jsx=c,i.jsxs=c,i}():r.exports=(s||(s=1,"production"!==process.env.NODE_ENV&&function(){var t=e,n=Symbol.for("react.element"),o=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen"),x=Symbol.iterator,m="@@iterator",N=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function v(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];!function(e,t,n){var o=N.ReactDebugCurrentFrame.getStackAddendum();""!==o&&(t+="%s",n=n.concat([o]));var r=n.map((function(e){return String(e)}));r.unshift("Warning: "+t),Function.prototype.apply.call(console[e],console,r)}("error",e,n)}var b,y=!1,w=!1,C=!1,O=!1,j=!1;function T(e){return e.displayName||"Context"}function k(e){if(null==e)return null;if("number"==typeof e.tag&&v("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),"function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case r:return"Fragment";case o:return"Portal";case s:return"Profiler";case i:return"StrictMode";case h:return"Suspense";case f:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case c:return T(e)+".Consumer";case l:return T(e._context)+".Provider";case d:return function(e,t,n){var o=e.displayName;if(o)return o;var r=t.displayName||t.name||"";return""!==r?n+"("+r+")":n}(e,e.render,"ForwardRef");case u:var t=e.displayName||null;return null!==t?t:k(e.type)||"Memo";case p:var n=e,a=n._payload,g=n._init;try{return k(g(a))}catch(e){return null}}return null}b=Symbol.for("react.module.reference");var S,R,A,E,B,P,F,z=Object.assign,H=0;function _(){}_.__reactDisabledLog=!0;var L,I=N.ReactCurrentDispatcher;function V(e,t,n){if(void 0===L)try{throw Error()}catch(e){var o=e.stack.trim().match(/\n( *(at )?)/);L=o&&o[1]||""}return"\n"+L+e}var $,M=!1,D="function"==typeof WeakMap?WeakMap:Map;function q(e,t){if(!e||M)return"";var n,o=$.get(e);if(void 0!==o)return o;M=!0;var r,i=Error.prepareStackTrace;Error.prepareStackTrace=void 0,r=I.current,I.current=null,function(){if(0===H){S=console.log,R=console.info,A=console.warn,E=console.error,B=console.group,P=console.groupCollapsed,F=console.groupEnd;var e={configurable:!0,enumerable:!0,value:_,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}H++}();try{if(t){var s=function(){throw Error()};if(Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(s,[])}catch(e){n=e}Reflect.construct(e,[],s)}else{try{s.call()}catch(e){n=e}e.call(s.prototype)}}else{try{throw Error()}catch(e){n=e}e()}}catch(t){if(t&&n&&"string"==typeof t.stack){for(var a=t.stack.split("\n"),l=n.stack.split("\n"),c=a.length-1,d=l.length-1;c>=1&&d>=0&&a[c]!==l[d];)d--;for(;c>=1&&d>=0;c--,d--)if(a[c]!==l[d]){if(1!==c||1!==d)do{if(c--,--d<0||a[c]!==l[d]){var h="\n"+a[c].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),"function"==typeof e&&$.set(e,h),h}}while(c>=1&&d>=0);break}}}finally{M=!1,I.current=r,function(){if(0==--H){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:z({},e,{value:S}),info:z({},e,{value:R}),warn:z({},e,{value:A}),error:z({},e,{value:E}),group:z({},e,{value:B}),groupCollapsed:z({},e,{value:P}),groupEnd:z({},e,{value:F})})}H<0&&v("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}(),Error.prepareStackTrace=i}var f=e?e.displayName||e.name:"",u=f?V(f):"";return"function"==typeof e&&$.set(e,u),u}function W(e,t,n){if(null==e)return"";if("function"==typeof e)return q(e,function(e){var t=e.prototype;return!(!t||!t.isReactComponent)}(e));if("string"==typeof e)return V(e);switch(e){case h:return V("Suspense");case f:return V("SuspenseList")}if("object"==typeof e)switch(e.$$typeof){case d:return q(e.render,!1);case u:return W(e.type,t,n);case p:var o=e,r=o._payload,i=o._init;try{return W(i(r),t,n)}catch(e){}}return""}$=new D;var U=Object.prototype.hasOwnProperty,Z={},K=N.ReactDebugCurrentFrame;function J(e){if(e){var t=e._owner,n=W(e.type,e._source,t?t.type:null);K.setExtraStackFrame(n)}else K.setExtraStackFrame(null)}var Q=Array.isArray;function Y(e){return Q(e)}function X(e){return""+e}function G(e){if(function(e){try{return X(e),!1}catch(e){return!0}}(e))return v("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",function(e){return"function"==typeof Symbol&&Symbol.toStringTag&&e[Symbol.toStringTag]||e.constructor.name||"Object"}(e)),X(e)}var ee,te,ne,oe=N.ReactCurrentOwner,re={key:!0,ref:!0,__self:!0,__source:!0};ne={};var ie=function(e,t,o,r,i,s,a){var l={$$typeof:n,type:e,key:t,ref:o,props:a,_owner:s,_store:{}};return Object.defineProperty(l._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(l,"_self",{configurable:!1,enumerable:!1,writable:!1,value:r}),Object.defineProperty(l,"_source",{configurable:!1,enumerable:!1,writable:!1,value:i}),Object.freeze&&(Object.freeze(l.props),Object.freeze(l)),l};function se(e,t,n,o,r){var i,s={},a=null,l=null;for(i in void 0!==n&&(G(n),a=""+n),function(e){if(U.call(e,"key")){var t=Object.getOwnPropertyDescriptor(e,"key").get;if(t&&t.isReactWarning)return!1}return void 0!==e.key}(t)&&(G(t.key),a=""+t.key),function(e){if(U.call(e,"ref")){var t=Object.getOwnPropertyDescriptor(e,"ref").get;if(t&&t.isReactWarning)return!1}return void 0!==e.ref}(t)&&(l=t.ref,function(e,t){if("string"==typeof e.ref&&oe.current&&t&&oe.current.stateNode!==t){var n=k(oe.current.type);ne[n]||(v('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',k(oe.current.type),e.ref),ne[n]=!0)}}(t,r)),t)U.call(t,i)&&!re.hasOwnProperty(i)&&(s[i]=t[i]);if(e&&e.defaultProps){var c=e.defaultProps;for(i in c)void 0===s[i]&&(s[i]=c[i])}if(a||l){var d="function"==typeof e?e.displayName||e.name||"Unknown":e;a&&function(e,t){var n=function(){ee||(ee=!0,v("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",t))};n.isReactWarning=!0,Object.defineProperty(e,"key",{get:n,configurable:!0})}(s,d),l&&function(e,t){var n=function(){te||(te=!0,v("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",t))};n.isReactWarning=!0,Object.defineProperty(e,"ref",{get:n,configurable:!0})}(s,d)}return ie(e,a,l,r,o,oe.current,s)}var ae,le=N.ReactCurrentOwner,ce=N.ReactDebugCurrentFrame;function de(e){if(e){var t=e._owner,n=W(e.type,e._source,t?t.type:null);ce.setExtraStackFrame(n)}else ce.setExtraStackFrame(null)}function he(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}function fe(){if(le.current){var e=k(le.current.type);if(e)return"\n\nCheck the render method of `"+e+"`."}return""}ae=!1;var ue={};function pe(e,t){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;var n=function(e){var t=fe();if(!t){var n="string"==typeof e?e:e.displayName||e.name;n&&(t="\n\nCheck the top-level render call using <"+n+">.")}return t}(t);if(!ue[n]){ue[n]=!0;var o="";e&&e._owner&&e._owner!==le.current&&(o=" It was passed a child from "+k(e._owner.type)+"."),de(e),v('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',n,o),de(null)}}}function ge(e,t){if("object"==typeof e)if(Y(e))for(var n=0;n<e.length;n++){var o=e[n];he(o)&&pe(o,t)}else if(he(e))e._store&&(e._store.validated=!0);else if(e){var r=function(e){if(null===e||"object"!=typeof e)return null;var t=x&&e[x]||e[m];return"function"==typeof t?t:null}(e);if("function"==typeof r&&r!==e.entries)for(var i,s=r.call(e);!(i=s.next()).done;)he(i.value)&&pe(i.value,t)}}function xe(e){var t,n=e.type;if(null!=n&&"string"!=typeof n){if("function"==typeof n)t=n.propTypes;else{if("object"!=typeof n||n.$$typeof!==d&&n.$$typeof!==u)return;t=n.propTypes}if(t){var o=k(n);!function(e,t,n,o,r){var i=Function.call.bind(U);for(var s in e)if(i(e,s)){var a=void 0;try{if("function"!=typeof e[s]){var l=Error((o||"React class")+": "+n+" type `"+s+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[s]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw l.name="Invariant Violation",l}a=e[s](t,s,o,n,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(e){a=e}!a||a instanceof Error||(J(r),v("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",o||"React class",n,s,typeof a),J(null)),a instanceof Error&&!(a.message in Z)&&(Z[a.message]=!0,J(r),v("Failed %s type: %s",n,a.message),J(null))}}(t,e.props,"prop",o,e)}else void 0===n.PropTypes||ae||(ae=!0,v("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",k(n)||"Unknown"));"function"!=typeof n.getDefaultProps||n.getDefaultProps.isReactClassApproved||v("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function me(e,t,o,a,x,m){var N=function(e){return"string"==typeof e||"function"==typeof e||!!(e===r||e===s||j||e===i||e===h||e===f||O||e===g||y||w||C)||"object"==typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===u||e.$$typeof===l||e.$$typeof===c||e.$$typeof===d||e.$$typeof===b||void 0!==e.getModuleId)}(e);if(!N){var T="";(void 0===e||"object"==typeof e&&null!==e&&0===Object.keys(e).length)&&(T+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var S,R=function(e){return void 0!==e?"\n\nCheck your code at "+e.fileName.replace(/^.*[\\\/]/,"")+":"+e.lineNumber+".":""}(x);T+=R||fe(),null===e?S="null":Y(e)?S="array":void 0!==e&&e.$$typeof===n?(S="<"+(k(e.type)||"Unknown")+" />",T=" Did you accidentally export a JSX literal instead of a component?"):S=typeof e,v("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",S,T)}var A=se(e,t,o,x,m);if(null==A)return A;if(N){var E=t.children;if(void 0!==E)if(a)if(Y(E)){for(var B=0;B<E.length;B++)ge(E[B],e);Object.freeze&&Object.freeze(E)}else v("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else ge(E,e)}return e===r?function(e){for(var t=Object.keys(e.props),n=0;n<t.length;n++){var o=t[n];if("children"!==o&&"key"!==o){de(e),v("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",o),de(null);break}}null!==e.ref&&(de(e),v("Invalid attribute `ref` supplied to `React.Fragment`."),de(null))}(A):xe(A),A}var Ne=function(e,t,n){return me(e,t,n,!1)},ve=function(e,t,n){return me(e,t,n,!0)};a.Fragment=r,a.jsx=Ne,a.jsxs=ve}()),a);var l=r.exports;function c(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&o.firstChild?o.insertBefore(r,o.firstChild):o.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}c(".ballpoint-tb-bt {\r\n    height: 40px;\r\n    min-width: 40px;\r\n    padding: 4px 8px;\r\n    cursor: pointer;\r\n    font-weight: bold;\r\n    border: none;\r\n    background-color: transparent;\r\n}\r\n.ballpoint-tb-bt.default {\r\n    border: 2px solid rgba(40, 40, 40, 0);\r\n    background-color: rgba(235, 235, 235, 0);\r\n    transition: background-color 200ms, border-color 200ms;\r\n}\r\n.ballpoint-tb-bt.default:hover {\r\n    background-color: rgba(235, 235, 235, 1);\r\n    border-color: rgba(40, 40, 40, 1);\r\n}\r\n.ballpoint-tb-bt.light {\r\n    background-color: rgba(235, 235, 235, 0);\r\n    transition: background-color 200ms;\r\n}\r\n.ballpoint-tb-bt.light:hover {\r\n    background-color: rgba(235, 235, 235, 1);\r\n}\r\n.ballpoint-tb-bt.dark {\r\n    background-color: rgba(60, 60, 60, 0);\r\n    transition: background-color 200ms;\r\n    fill: rgb(235, 235, 235);\r\n    color: rgb(235, 235, 235);\r\n}\r\n.ballpoint-tb-bt.dark:hover {\r\n    background-color: rgba(60, 60, 60, 1);\r\n}");class d extends t{render(){return l.jsx("button",Object.assign({className:this.props.className,type:"button",disabled:this.props.disabled,onClick:this.props.onClick},{children:this.props.children}))}}d.defaultProps={className:"ballpoint-tb-bt default",activeClassName:"active"};const h=l.jsx("svg",Object.assign({viewBox:"0 0 100 100"},{children:l.jsx("path",{d:"M 27.5625,79.875 V 20.124998 h 21.75 q 10.000001,0 15.375001,3.666667 5.375,3.666667 5.375,10.333334 0,4.833333 -3.291667,8.458333 -3.25,3.625 -8.333334,5.041667 v 0.166667 q 6.375001,0.791666 10.166667,4.708333 3.833334,3.916667 3.833334,9.541667 0,8.208334 -5.875,13.041667 Q 60.687501,79.875 50.520834,79.875 Z M 41.020833,30.041665 V 44.208332 H 46.9375 q 4.166667,0 6.541667,-2 2.416667,-2.041667 2.416667,-5.583333 0,-6.583334 -9.833334,-6.583334 z m 0,24.166668 v 15.75 H 48.3125 q 4.666667,0 7.291667,-2.166667 2.666667,-2.166666 2.666667,-5.916667 0,-3.583333 -2.625,-5.625 -2.583334,-2.041666 -7.25,-2.041666 z"})})),f=l.jsx("svg",Object.assign({viewBox:"0 0 100 100"},{children:l.jsx("path",{d:"M 55.125001,81.020836 H 30.541667 l 1.375,-6.041667 h 8.125 L 51.625001,25.020834 H 43.5 l 1.375,-6.041667 h 24.583335 l -1.375001,6.041667 h -8.125 L 48.375001,74.979169 h 8.125 z"})})),u=l.jsxs("svg",Object.assign({viewBox:"0 0 100 100"},{children:[l.jsx("path",{d:"m 69.450519,50.557292 q 0,22.020833 -19.869791,22.020833 -19.031249,0 -19.031249,-21.182291 V 19.421877 h 6.125 v 31.572915 q 0,16.078125 13.562499,16.078125 13.088542,0 13.088542,-15.53125 v -32.11979 h 6.124999 z"}),l.jsx("path",{d:"m 27.5,76 h 45 v 7 h -45 z"})]})),p=l.jsx("svg",Object.assign({viewBox:"0 0 100 100"},{children:l.jsx("path",{d:"m 52.728516,19.125 c -2.583334,0 -5.125,0.320095 -7.625,0.958984 -2.472223,0.638889 -4.680556,1.61046 -6.625,2.916016 -1.944445,1.305556 -3.512587,2.972222 -4.707032,5 -1.194444,2 -1.792968,4.361762 -1.792968,7.083984 0,2.222223 0.375,4.165365 1.125,5.832032 0.346093,0.729268 0.756794,1.420718 1.21289,2.083984 H 44.830078 C 44.041962,42.494848 43.321748,41.982239 42.6875,41.458984 41.576389,40.542318 40.729818,39.527127 40.146484,38.416016 39.590929,37.304904 39.3125,35.986762 39.3125,34.458984 c 0,-1.638889 0.375,-3.029079 1.125,-4.167968 0.75,-1.138889 1.721571,-2.068794 2.916016,-2.791016 1.194444,-0.722222 2.556206,-1.23546 4.083984,-1.541016 1.527778,-0.333333 3.056207,-0.5 4.583984,-0.5 5.527778,0 10.054254,1.221571 13.582032,3.666016 V 21.25 c -2.694445,-1.416667 -6.986111,-2.125 -12.875,-2.125 z M 27.5,45 v 5 h 45 v -5 z m 19.076172,7 c 0.0811,0.04135 0.154804,0.08369 0.236328,0.125 1.972222,1 3.805556,1.958333 5.5,2.875 1.722222,0.888889 3.208984,1.833984 4.458984,2.833984 1.25,0.972223 2.221572,2.055556 2.916016,3.25 0.722222,1.194445 1.083984,2.59592 1.083984,4.207032 0,3 -1.070095,5.306857 -3.208984,6.917968 -2.111111,1.583334 -5.319444,2.375 -9.625,2.375 -1.25,0 -2.611762,-0.125 -4.083984,-0.375 -1.472223,-0.25 -2.943794,-0.598524 -4.416016,-1.042968 -1.444444,-0.472223 -2.832682,-1.040365 -4.166016,-1.707032 -1.305555,-0.666666 -2.430555,-1.416666 -3.375,-2.25 v 8.25 c 0.777778,0.527778 1.804254,1.012587 3.082032,1.457032 1.305555,0.416666 2.680555,0.765191 4.125,1.042968 1.444444,0.305556 2.861111,0.527127 4.25,0.666016 1.388889,0.166667 2.555555,0.25 3.5,0.25 2.833333,0 5.528428,-0.291667 8.083984,-0.875 2.555556,-0.555556 4.805555,-1.472222 6.75,-2.75 1.972222,-1.277778 3.527127,-2.931207 4.666016,-4.958984 1.166666,-2.055556 1.75,-4.555556 1.75,-7.5 0,-2.222223 -0.429905,-4.193794 -1.291016,-5.916016 C 65.979167,57.152778 64.840929,55.582682 63.396484,54.166016 62.622863,53.407272 61.776265,52.687031 60.867188,52 Z"})})),g=l.jsx("svg",Object.assign({viewBox:"0 0 100 100"},{children:l.jsx("path",{d:"m 54.839844,78.364583 v -5.15625 q 0.885417,0.78125 2.109375,1.40625 1.25,0.625 2.604167,1.067709 1.380208,0.416666 2.760416,0.651041 1.380208,0.234375 2.552083,0.234375 4.036459,0 6.015625,-1.484375 2.005209,-1.510416 2.005209,-4.322916 0,-1.510417 -0.677084,-2.630208 -0.651041,-1.119792 -1.822916,-2.03125 -1.171875,-0.9375 -2.786459,-1.770834 -1.588541,-0.859375 -3.4375,-1.796875 -1.953124,-0.989583 -3.645833,-2.005208 -1.692708,-1.015625 -2.942708,-2.239583 -1.25,-1.223958 -1.979167,-2.760417 -0.703125,-1.5625 -0.703125,-3.645833 0,-2.552083 1.119792,-4.427083 1.119792,-1.901042 2.942708,-3.125 1.822917,-1.223958 4.140625,-1.822917 2.34375,-0.598958 4.765625,-0.598958 5.520833,0 8.046875,1.328125 v 4.921875 q -3.307292,-2.291667 -8.489583,-2.291667 -1.432292,0 -2.864584,0.3125 -1.432291,0.286458 -2.552082,0.963542 -1.119792,0.677083 -1.822917,1.744791 -0.703125,1.067709 -0.703125,2.604167 0,1.432292 0.520833,2.473958 0.546875,1.041667 1.588542,1.901042 1.041667,0.859375 2.526042,1.666667 1.510416,0.807291 3.463541,1.770833 2.005209,0.989583 3.802084,2.083333 1.796875,1.09375 3.151041,2.421875 1.354167,1.328125 2.135417,2.942708 0.807292,1.614584 0.807292,3.697917 0,2.760416 -1.09375,4.6875 -1.067708,1.901041 -2.916667,3.098958 -1.822917,1.197917 -4.21875,1.71875 Q 66.845052,80.5 64.188802,80.5 q -0.885417,0 -2.1875,-0.15625 -1.302083,-0.130208 -2.65625,-0.416667 -1.354166,-0.260416 -2.578125,-0.651041 -1.197916,-0.416667 -1.927083,-0.911459 z M 52.863281,26.458332 H 29.529947 v 20.666667 h 21.583334 v 6.291667 H 29.529947 V 79.875 h -7 V 20.124998 h 30.333334 z"})})),x=l.jsx("svg",Object.assign({viewBox:"0 0 100 100"},{children:l.jsx("path",{d:"M 2.5410156,20.125 19.958984,50 0.91601562,79.875 H 16.958984 L 27.291016,60.583984 c 0.722222,-1.861111 1.180555,-3.251302 1.375,-4.167968 h 0.167968 c 0.416667,1.944444 0.818143,3.277778 1.207032,4 L 40.333984,79.875 H 56.291016 L 37.875,49.75 55.791016,20.125 h -15 l -9.5,17.75 c -0.916667,2.305555 -1.541667,4.042318 -1.875,5.208984 H 29.25 C 28.722223,41.13954 28.125652,39.457682 27.458984,38.041016 L 18.916016,20.125 Z M 63.5,20.125 v 59.75 H 99.083984 V 68.958984 h -22.125 V 20.125 Z"})})),m=l.jsx("svg",Object.assign({viewBox:"0 0 100 100"},{children:l.jsx("path",{d:"M 67.791668,79.875 H 32.208334 V 20.124998 h 13.458333 v 48.833335 h 22.125001 z"})})),N=l.jsx("svg",Object.assign({viewBox:"0 0 100 100"},{children:l.jsx("path",{d:"M 80.458334,79.875 H 73.500001 V 39.791665 q 0,-4.75 0.583333,-11.625 h -0.166667 q -1,4.041667 -1.791666,5.791667 L 51.708333,79.875 h -3.416667 l -20.375,-45.583335 q -0.875,-2 -1.791667,-6.125 h -0.166667 q 0.333334,3.583334 0.333334,11.708334 V 79.875 h -6.75 V 20.124998 h 9.25 L 47.125,61.791666 q 2.125,4.791667 2.75,7.166667 h 0.25 Q 51.916667,64.041666 53,61.624999 L 71.708334,20.124998 h 8.75 z"})})),v=l.jsx("svg",Object.assign({viewBox:"0 0 100 100"},{children:l.jsx("path",{d:"m 34.249999,77.75 v -4.708334 q 6.416667,4.083334 13,4.083334 7,0 10.625001,-2.875 3.625,-2.916667 3.625,-8.125 0,-4.583334 -2.458334,-7.291667 -2.416666,-2.75 -10.541667,-7.458334 -9.083333,-5.291667 -11.5,-8.833333 -2.416667,-3.583334 -2.416667,-8.250001 0,-6.333333 4.916667,-10.75 4.916667,-4.416667 13.125,-4.416667 5.333334,0 10.666667,1.791667 v 4.333333 q -5.25,-2.375 -11.208333,-2.375 -6.083334,0 -9.666667,3.083334 -3.541667,3.083333 -3.541667,7.833333 0,4.583334 2.416667,7.291667 2.458333,2.708334 10.541667,7.375 8.375,4.750001 11.125,8.458334 Q 65.75,60.583333 65.75,65.375 q 0,6.875 -4.791667,11.208333 -4.75,4.333334 -13.458334,4.333334 -3.083333,0 -7.125,-0.958334 -4,-0.958333 -6.125,-2.208333 z"})})),b=l.jsxs("svg",Object.assign({viewBox:"0 0 100 100"},{children:[l.jsx("path",{d:"m 61.375,24.96875 h -17.5 v 15.5 H 60.0625 V 45.1875 H 43.875 v 19.84375 h -5.25 v -44.8125 h 22.75 z"}),l.jsx("path",{d:"M 25,70 V 90 H 75 V 70 Z m 5,5 H 70 V 85 H 30 Z"})]})),y=l.jsxs("svg",Object.assign({viewBox:"0 0 100 100"},{children:[l.jsx("rect",{x:"20",y:"20",rx:"3",ry:"3",width:"7",height:"60"}),l.jsx("rect",{x:"35",y:"24",width:"45",height:"7"}),l.jsx("rect",{x:"35",y:"39",width:"30",height:"7"}),l.jsx("rect",{x:"35",y:"54",width:"45",height:"7"}),l.jsx("rect",{x:"35",y:"69",width:"30",height:"7"})]})),w=l.jsxs("svg",Object.assign({viewBox:"0 0 100 100"},{children:[l.jsx("rect",{x:"46.5",y:"20",rx:"3",ry:"3",width:"7",height:"60"}),l.jsx("path",{d:"m 22,24 v 7 h 20 v -7 z m 36,0 v 7 h 20 v -7 z"}),l.jsx("path",{d:"m 30,39 v 7 h 12 v -7 z m 28,0 v 7 h 12 v -7 z"}),l.jsx("path",{d:"m 22,54 v 7 h 20 v -7 z m 36,0 v 7 h 20 v -7 z"}),l.jsx("path",{d:"m 30,69 v 7 h 12 v -7 z m 28,0 v 7 h 12 v -7 z"})]})),C=l.jsxs("svg",Object.assign({viewBox:"0 0 100 100"},{children:[l.jsx("rect",{x:"73",y:"20",rx:"3",ry:"3",width:"7",height:"60"}),l.jsx("rect",{x:"20",y:"24",width:"45",height:"7"}),l.jsx("rect",{x:"35",y:"39",width:"30",height:"7"}),l.jsx("rect",{x:"20",y:"54",width:"45",height:"7"}),l.jsx("rect",{x:"35",y:"69",width:"30",height:"7"})]})),O=l.jsx("svg",Object.assign({viewBox:"0 0 100 100"},{children:l.jsx("path",{d:"m 65.354169,80.625003 q 0,0.291666 -0.166667,0.5 -0.125,0.25 -0.458333,0.375 -0.333334,0.125 -0.916667,0.208333 -0.583333,0.125 -1.458334,0.125 -0.833333,0 -1.416666,-0.125 -0.583334,-0.08333 -0.958334,-0.208333 -0.333333,-0.125 -0.458333,-0.375 -0.125,-0.208334 -0.125,-0.5 V 23.541668 h -8.25 v 57.083335 q 0,0.291666 -0.166667,0.5 -0.166667,0.25 -0.5,0.375 -0.291667,0.125 -0.875,0.208333 -0.583333,0.125 -1.458333,0.125 -1.75,0 -2.375,-0.333333 -0.625,-0.333334 -0.625,-0.875 V 49.875002 q -4.291667,0 -7.625001,-1.041667 -3.333333,-1.083333 -5.625,-3.083333 -2.291666,-2.041667 -3.5,-4.916667 -1.166667,-2.916667 -1.166667,-6.625 0,-3.416667 1.208334,-6.333334 1.208333,-2.916667 3.458333,-5.083333 2.291667,-2.166667 5.666667,-3.375 3.416667,-1.25 8.625,-1.25 h 16.791668 q 1.208333,0 1.791666,0.708333 0.583334,0.708333 0.583334,1.791667 z"})})),j=l.jsx("svg",Object.assign({viewBox:"0 0 100 100"},{children:l.jsx("path",{d:"M 75.854167,79.875 H 62.354166 V 55.541666 H 37.604165 V 79.875 H 24.145832 V 20.124998 H 37.604165 V 43.958332 H 62.354166 V 20.124998 h 13.500001 z"})})),T=l.jsxs("svg",Object.assign({viewBox:"0 0 100 100"},{children:[l.jsx("path",{d:"M 54.484375,76.723961 H 42.671876 V 55.432295 H 21.015626 V 76.723961 H 9.2395851 V 24.442713 H 21.015626 v 20.854166 h 21.65625 V 24.442713 h 11.812499 z"}),l.jsx("path",{d:"M 90.760415,23.276046 V 76.723961 H 79.27604 V 36.255212 q -0.947916,0.838542 -2.260416,1.604167 -1.276042,0.729167 -2.734375,1.348958 -1.458333,0.583333 -3.026042,1.020833 -1.567708,0.401042 -3.098958,0.583334 v -9.697917 q 4.484375,-1.3125 8.458333,-3.354166 3.973958,-2.041667 7.182292,-4.484375 z"})]})),k=l.jsxs("svg",Object.assign({viewBox:"0 0 100 100"},{children:[l.jsx("path",{d:"m 48.067708,76.723999 h -6.125 V 52.88025 H 14.890626 V 76.723999 H 8.7656261 V 24.442751 H 14.890626 V 47.375042 H 41.942708 V 24.442751 h 6.125 z"}),l.jsx("path",{d:"m 83.140624,38.151084 q 0,-2.40625 -0.765625,-4.192709 -0.729166,-1.786458 -2.041666,-2.953124 -1.276042,-1.203125 -3.026042,-1.786459 -1.75,-0.583333 -3.791667,-0.583333 -1.749999,0 -3.427083,0.473958 -1.677083,0.473959 -3.28125,1.3125 -1.567708,0.838542 -3.0625,2.005209 -1.458333,1.166666 -2.734374,2.588541 v -6.416666 q 2.515624,-2.442709 5.614583,-3.71875 3.135416,-1.3125 7.619791,-1.3125 3.208333,0 5.942708,0.947916 2.734375,0.911459 4.739583,2.697917 2.005209,1.786458 3.135417,4.411458 1.166667,2.625 1.166667,6.015625 0,3.098958 -0.729167,5.614583 -0.692708,2.515625 -2.151042,4.739583 -1.421875,2.223959 -3.609375,4.265625 -2.187499,2.041667 -5.140624,4.15625 -3.682292,2.625 -6.088542,4.484375 -2.369791,1.859375 -3.791666,3.5 -1.385417,1.604166 -1.96875,3.244791 -0.546875,1.604167 -0.546875,3.71875 h 26.031249 v 5.359375 H 58.96875 v -2.588542 q 0,-3.354166 0.729167,-5.906249 0.729166,-2.552084 2.40625,-4.848959 1.677083,-2.296874 4.374999,-4.593749 2.734375,-2.296875 6.671875,-5.177084 2.84375,-2.041666 4.739583,-3.901041 1.932292,-1.859375 3.098959,-3.71875 1.166666,-1.859375 1.640624,-3.755208 0.510417,-1.932292 0.510417,-4.083333 z"})]})),S=l.jsxs("svg",Object.assign({viewBox:"0 0 100 100"},{children:[l.jsx("path",{d:"M 42.908854,75.812538 V 50.729206 H 12.976563 V 75.812538 H 9.3671885 V 23.53129 H 12.976563 V 47.447956 H 42.908854 V 23.53129 h 3.572917 v 52.281248 z"}),l.jsx("path",{d:"m 57.455728,73.953163 v -3.828125 q 5.979166,3.536459 11.265624,3.536459 6.307292,0 9.880208,-3.208334 3.572917,-3.244791 3.572917,-8.458333 0,-5.796875 -4.119792,-8.786458 -4.083333,-2.989583 -11.666666,-2.989583 h -4.010416 v -3.0625 h 3.572916 q 7,0 10.645833,-2.953125 3.682292,-2.989583 3.682292,-8.421874 0,-4.703125 -2.661459,-7.364584 -2.661458,-2.697916 -7.765624,-2.697916 -4.921875,0 -10.317708,3.427083 v -3.572916 q 5.906249,-2.916667 10.828124,-2.916667 6.197917,0 9.807292,3.354167 3.645833,3.354166 3.645833,8.895833 0,10.609374 -10.171875,13.489582 v 0.145834 q 5.46875,0.546875 8.75,4.083333 3.28125,3.5 3.28125,8.859375 0,6.854166 -4.739583,11.046874 -4.739584,4.192708 -12.286458,4.192708 -5.833333,0 -11.192708,-2.770833 z"})]})),R=l.jsxs("svg",Object.assign({viewBox:"0 0 100 100"},{children:[l.jsx("path",{d:"M 53.015624,76.723999 H 46.890625 V 52.88025 H 19.838542 v 23.843749 h -6.125 V 24.442751 h 6.125 V 47.375042 H 46.890625 V 24.442751 h 6.124999 z"}),l.jsx("path",{d:"m 82.255208,43.114624 v 21.1875 h 4.03125 v 5.53125 h -4.03125 v 6.890625 h -6.75 V 69.833374 H 60.856771 v -5.789062 q 1.945312,-2.179688 4.03125,-4.757813 2.085937,-2.601562 4.03125,-5.34375 1.945312,-2.742187 3.609375,-5.507812 1.6875,-2.789063 2.859375,-5.320313 z m -14.765625,21.1875 h 8.015625 V 52.559937 q -0.820312,1.523437 -1.78125,3.09375 -0.960937,1.546875 -2.015625,3.070312 -1.054687,1.5 -2.132812,2.929688 -1.078125,1.40625 -2.085938,2.648437 z"})]})),A=l.jsxs("svg",Object.assign({viewBox:"0 0 100 100"},{children:[l.jsx("path",{d:"m 54.832031,76.138062 h -6.125 V 52.294312 H 21.654948 v 23.84375 H 15.529949 V 23.856813 h 6.124999 V 46.789104 H 48.707031 V 23.856813 h 6.125 z"}),l.jsx("path",{d:"m 84.470052,65.872437 q 0,2.460937 -0.84375,4.453125 -0.84375,1.992187 -2.414063,3.421875 -1.546875,1.429687 -3.75,2.203125 -2.203125,0.773437 -4.898437,0.773437 -4.6875,0 -6.960938,-1.40625 v -4.078125 q 3.421875,2.203125 7.007813,2.203125 1.828125,0 3.28125,-0.539062 1.476562,-0.539063 2.507812,-1.5 1.03125,-0.960938 1.570313,-2.320313 0.5625,-1.359375 0.5625,-2.976562 0,-3.28125 -2.203125,-5.132813 -2.203125,-1.875 -6.398438,-1.875 -0.679687,0 -1.429687,0.02344 -0.75,0.02344 -1.5,0.07031 -0.75,0.02344 -1.476563,0.07031 -0.703125,0.04687 -1.289062,0.117187 l 1.148437,-16.851562 h 15.539063 v 3.46875 H 70.712239 l -0.679687,9.867187 q 0.75,-0.04687 1.59375,-0.07031 0.84375,-0.04687 1.5,-0.04687 2.671875,0 4.78125,0.703125 2.109375,0.703125 3.5625,2.015625 1.476562,1.289062 2.226562,3.1875 0.773438,1.875 0.773438,4.21875 z"})]})),E=l.jsxs("svg",Object.assign({viewBox:"0 0 100 100"},{children:[l.jsx("path",{d:"M 50.214843,76.138062 V 51.054729 H 20.282553 V 76.138062 H 16.673178 V 23.856813 h 3.609375 v 23.916666 h 29.93229 V 23.856813 h 3.572917 v 52.281249 z"}),l.jsx("path",{d:"m 81.404946,42.786499 v 2.296875 q -2.390625,-1.148437 -4.945312,-1.148437 -2.507813,0 -4.5,1.242187 -1.992188,1.21875 -3.398438,3.445313 -1.40625,2.226562 -2.15625,5.320312 -0.75,3.070313 -0.75,6.796875 h 0.09375 q 2.460938,-5.625 8.414063,-5.625 2.0625,0 3.75,0.796875 1.6875,0.796875 2.882812,2.203125 1.21875,1.40625 1.875,3.304688 0.65625,1.875 0.65625,4.054687 0,2.4375 -0.75,4.5 -0.726562,2.0625 -2.0625,3.5625 -1.335937,1.5 -3.1875,2.34375 -1.828125,0.84375 -4.03125,0.84375 -2.320312,0 -4.148437,-0.984375 -1.828125,-1.007812 -3.09375,-2.929687 -1.265625,-1.945313 -1.945313,-4.804688 -0.65625,-2.882812 -0.65625,-6.609375 0,-4.40625 0.867188,-7.992187 0.867187,-3.585938 2.53125,-6.117188 1.6875,-2.554687 4.101562,-3.9375 2.4375,-1.382812 5.554688,-1.382812 2.765625,0 4.898437,0.820312 z m -7.734375,14.296875 q -1.664062,0 -3.09375,0.703125 -1.40625,0.679688 -2.4375,1.828125 -1.03125,1.125 -1.617187,2.578125 -0.585938,1.453125 -0.585938,2.953125 0,1.921875 0.539063,3.679688 0.539062,1.734375 1.523437,3.046875 0.984375,1.3125 2.367188,2.109375 1.40625,0.773437 3.117187,0.773437 1.617188,0 3,-0.65625 1.40625,-0.679687 2.414063,-1.851562 1.007812,-1.195313 1.570312,-2.8125 0.585938,-1.617188 0.585938,-3.515625 0,-1.96875 -0.515625,-3.585938 -0.492188,-1.640625 -1.453125,-2.789062 -0.960938,-1.171875 -2.34375,-1.804688 -1.359375,-0.65625 -3.070313,-0.65625 z"})]})),B=l.jsxs("svg",Object.assign({viewBox:"0 0 100 100"},{children:[l.jsx("path",{d:"m 29.229167,18.364583 v 15.270834 h -3.28125 v -11.5625 q -0.270834,0.239583 -0.645834,0.458333 -0.364583,0.208333 -0.78125,0.385417 -0.416666,0.166666 -0.864583,0.291666 -0.447917,0.114584 -0.885417,0.166667 v -2.770834 q 1.28125,-0.375 2.416667,-0.958333 1.135417,-0.583333 2.052084,-1.28125 z"}),l.jsx("path",{d:"m 24.625,54.864583 h 6.333334 v 2.729167 h -9.937501 v -1.125 q 0,-1.145833 0.385417,-2.052084 Q 21.791667,53.5 22.375,52.78125 22.958333,52.052083 23.645833,51.5 q 0.697917,-0.5625 1.322917,-1.010417 0.65625,-0.46875 1.145834,-0.895833 0.5,-0.427084 0.833333,-0.84375 0.34375,-0.427084 0.510417,-0.854167 0.166666,-0.4375 0.166666,-0.927083 0,-0.958334 -0.541666,-1.447917 -0.541667,-0.489584 -1.656251,-0.489584 -1.927083,0 -3.6875,1.531251 v -2.895834 q 1.947917,-1.260416 4.395834,-1.260416 1.135417,0 2.03125,0.302083 0.90625,0.291667 1.53125,0.84375 0.625,0.552083 0.947917,1.34375 0.333333,0.78125 0.333333,1.75 0,1.03125 -0.322917,1.833333 -0.3125,0.802084 -0.84375,1.458334 -0.520833,0.65625 -1.208333,1.208333 -0.6875,0.541667 -1.427083,1.052083 -0.5,0.354167 -0.96875,0.708334 Q 25.75,53.25 25.395833,53.59375 25.041667,53.927083 24.833333,54.25 24.625,54.572916 24.625,54.864583 Z"}),l.jsx("path",{d:"m 21.239583,80.973959 v -2.864584 q 1.5,1.09375 3.5,1.09375 1.260417,0 1.958334,-0.541666 0.708333,-0.541667 0.708333,-1.510417 0,-1 -0.875,-1.541667 -0.864583,-0.541667 -2.385417,-0.541667 h -1.385417 v -2.520833 h 1.28125 q 2.916667,0 2.916667,-1.9375 0,-1.822917 -2.239583,-1.822917 -1.5,0 -2.916667,0.96875 v -2.6875 q 1.572917,-0.791666 3.666667,-0.791666 2.291667,0 3.5625,1.03125 1.28125,1.03125 1.28125,2.677083 0,2.927083 -2.96875,3.666667 v 0.05208 q 1.583333,0.197917 2.5,1.15625 0.916667,0.947917 0.916667,2.333333 0,2.093751 -1.53125,3.312501 -1.53125,1.21875 -4.229167,1.21875 -2.3125,0 -3.760417,-0.75 z"}),l.jsx("rect",{x:"40",y:"23",width:"40",height:"6"}),l.jsx("rect",{x:"40",y:"47",width:"40",height:"6"}),l.jsx("rect",{x:"40",y:"71",width:"40",height:"6"})]})),P=l.jsxs("svg",Object.assign({viewBox:"0 0 100 100"},{children:[l.jsx("circle",{cx:"26",cy:"26",r:"6"}),l.jsx("circle",{cx:"26",cy:"50",r:"6"}),l.jsx("circle",{cx:"26",cy:"74",r:"6"}),l.jsx("rect",{x:"40",y:"23",width:"40",height:"6"}),l.jsx("rect",{x:"40",y:"47",width:"40",height:"6"}),l.jsx("rect",{x:"40",y:"71",width:"40",height:"6"})]}));c(".ballpoint-tb {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    box-sizing: border-box;\r\n    position: relative;\r\n    background-color: transparent;\r\n}\r\n.ballpoint-tb.default {\r\n    background-color: rgb(248, 248, 248);\r\n    border-bottom: 2px solid rgb(80, 80, 80);\r\n}\r\n.ballpoint-tb > .buttons {\r\n    display: flex;\r\n    padding: 0 10px;\r\n    margin: 10px 0;\r\n}\r\n.ballpoint-tb > .buttons.hidden {\r\n    visibility: hidden;\r\n}\r\n@media (min-width: 720px){\r\n    .ballpoint-tb > .buttons:not(:first-child) {\r\n        border-left: 1px solid rgb(80, 80, 80);\r\n    }\r\n}\r\n.ballpoint-tb > .menu {\r\n    display: flex;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    box-sizing: inherit;\r\n    width: 100%;\r\n    min-height: 100%;\r\n    padding: 10px;\r\n    align-items: top;\r\n    z-index: 9;\r\n}\r\n.ballpoint-tb.default > .menu {\r\n    background-color: rgb(248, 248, 248);\r\n    border-bottom: 2px solid rgb(80, 80, 80);\r\n}\r\n.ballpoint-tb > .menu > button { flex-shrink: 0; }\r\n.ballpoint-tb > .menu > .buttons {\r\n    margin-left: 10px;\r\n    padding-left: 10px;\r\n    border-left: 1px solid rgb(80, 80, 80);\r\n}");c(".ballpoint-tb-color-bt {\r\n    height: 40px;\r\n    width: 40px;\r\n    padding: 10px;\r\n    cursor: pointer;\r\n    border: none;\r\n}\r\n.ballpoint-tb-color-bt.default {\r\n    border: 2px solid rgba(40, 40, 40, 0);\r\n    background-color: rgba(235, 235, 235, 0);\r\n    transition: background-color 200ms, border-color 200ms;\r\n}\r\n.ballpoint-tb-color-bt.default:hover {\r\n    background-color: rgba(235, 235, 235, 1);\r\n    border-color: rgba(40, 40, 40, 1);\r\n}\r\n.ballpoint-tb-color-bt.light {\r\n    background-color: rgba(235, 235, 235, 0);\r\n    transition: background-color 200ms;\r\n}\r\n.ballpoint-tb-color-bt.light:hover {\r\n    background-color: rgba(235, 235, 235, 1);\r\n}\r\n.ballpoint-tb-color-bt.dark {\r\n    background-color: rgba(60, 60, 60, 0);\r\n    transition: background-color 200ms;\r\n}\r\n.ballpoint-tb-color-bt.dark:hover {\r\n    background-color: rgba(60, 60, 60, 1);\r\n}");class F extends t{constructor(){super(...arguments),this.handleClick=e=>{this.props.onClick&&this.props.onClick(this.props.color)}}render(){return l.jsx("button",Object.assign({className:this.props.className,type:"button",onClick:this.handleClick},{children:l.jsx("svg",Object.assign({viewBox:"0 0 100 100"},{children:l.jsx("circle",{cx:"50",cy:"50",r:"50",fill:this.props.color})}))}))}}F.defaultProps={className:"ballpoint-tb-color-bt default",activeClassName:"active",color:"#000000"};class z extends t{constructor(){super(...arguments),this.state={displayMenu:!1},this.handleFontSizeClick=()=>{this.setState({displayMenu:!(this.state.displayMenu&&"font-size"===this.state.currentMenu),currentMenu:"font-size"})},this.handleFontSizeSelectionClick=e=>()=>{this.setState({displayMenu:!1},(()=>{this.props.onFontSizeChange&&this.props.onFontSizeChange(e)}))},this.handleFontColorClick=()=>{this.setState({displayMenu:!(this.state.displayMenu&&"font-color"===this.state.currentMenu),currentMenu:"font-color"})},this.handleFontColorSelectionClick=e=>{this.setState({displayMenu:!1},(()=>{this.props.onFontColorChange&&this.props.onFontColorChange(e)}))},this.handleHeaderClick=()=>{this.setState({displayMenu:!(this.state.displayMenu&&"header"===this.state.currentMenu),currentMenu:"header"})},this.handleHeaderSelectionClick=e=>()=>{this.setState({displayMenu:!1},(()=>{this.props.onHeaderChange&&this.props.onHeaderChange(e)}))}}render(){const e=`${this.props.className} ${this.props.toolbarStyle}`,t=`${this.props.toolbarButtonClassName} ${this.props.toolbarStyle}`,n=`${this.props.toolbarColorButtonClassName} ${this.props.toolbarStyle}`,o=this.props.toolbarOptions.displayBoldButton?l.jsx(d,Object.assign({className:t,onClick:this.props.onBoldClick},{children:h})):null,r=this.props.toolbarOptions.displayItalicButton?l.jsx(d,Object.assign({className:t,onClick:this.props.onItalicClick},{children:f})):null,i=this.props.toolbarOptions.displayUnderlineButton?l.jsx(d,Object.assign({className:t,onClick:this.props.onUnderlineClick},{children:u})):null,s=this.props.toolbarOptions.displayStrikeoutButton?l.jsx(d,Object.assign({className:t,onClick:this.props.onStrikeoutClick},{children:p})):null,a=this.props.toolbarOptions.displayFontSizeButton?l.jsx(d,Object.assign({className:t,onClick:this.handleFontSizeClick},{children:g})):null,c=this.props.toolbarOptions.displayFontColorButton?l.jsx(d,Object.assign({className:t,onClick:this.handleFontColorClick},{children:b})):null,z=this.props.toolbarOptions.displayTextAlignLeftButton?l.jsx(d,Object.assign({className:t,onClick:this.props.onTextAlignLeftClick},{children:y})):null,H=this.props.toolbarOptions.displayTextAlignCenterButton?l.jsx(d,Object.assign({className:t,onClick:this.props.onTextAlignCenterClick},{children:w})):null,_=this.props.toolbarOptions.displayTextAlignRightButton?l.jsx(d,Object.assign({className:t,onClick:this.props.onTextAlignRightClick},{children:C})):null,L=this.props.toolbarOptions.displayParagraphButton?l.jsx(d,Object.assign({className:t,onClick:this.props.onParagraphClick},{children:O})):null,I=this.props.toolbarOptions.displayHeaderButton?l.jsx(d,Object.assign({className:t,onClick:this.handleHeaderClick},{children:j})):null,V=this.props.toolbarOptions.displayBulletListButton?l.jsx(d,Object.assign({className:t,onClick:this.props.onBulletListClick},{children:P})):null,$=this.props.toolbarOptions.displayNumberListButton?l.jsx(d,Object.assign({className:t,onClick:this.props.onNumberListClick},{children:B})):null;let M=null;if(this.state.displayMenu)switch(this.state.currentMenu){case"font-size":M=l.jsxs("div",Object.assign({className:"menu"},{children:[a,l.jsxs("div",Object.assign({className:"buttons"},{children:[l.jsx(d,Object.assign({className:t,onClick:this.handleFontSizeSelectionClick("xl")},{children:x})),l.jsx(d,Object.assign({className:t,onClick:this.handleFontSizeSelectionClick("l")},{children:m})),l.jsx(d,Object.assign({className:t,onClick:this.handleFontSizeSelectionClick("m")},{children:N})),l.jsx(d,Object.assign({className:t,onClick:this.handleFontSizeSelectionClick("s")},{children:v}))]}))]}));break;case"font-color":M=l.jsxs("div",Object.assign({className:"menu"},{children:[c,l.jsxs("div",Object.assign({className:"buttons"},{children:[l.jsx(F,{className:n,onClick:this.handleFontColorSelectionClick}),l.jsx(F,{className:n,color:"#696969",onClick:this.handleFontColorSelectionClick}),l.jsx(F,{className:n,color:"#ff0000",onClick:this.handleFontColorSelectionClick}),l.jsx(F,{className:n,color:"#b22222",onClick:this.handleFontColorSelectionClick}),l.jsx(F,{className:n,color:"#ffa500",onClick:this.handleFontColorSelectionClick}),l.jsx(F,{className:n,color:"#008000",onClick:this.handleFontColorSelectionClick}),l.jsx(F,{className:n,color:"#2e8b57",onClick:this.handleFontColorSelectionClick}),l.jsx(F,{className:n,color:"#0000ff",onClick:this.handleFontColorSelectionClick}),l.jsx(F,{className:n,color:"#4169e1",onClick:this.handleFontColorSelectionClick})]}))]}));break;case"header":M=l.jsxs("div",Object.assign({className:"menu"},{children:[I,l.jsxs("div",Object.assign({className:"buttons"},{children:[l.jsx(d,Object.assign({className:t,onClick:this.handleHeaderSelectionClick("h1")},{children:T})),l.jsx(d,Object.assign({className:t,onClick:this.handleHeaderSelectionClick("h2")},{children:k})),l.jsx(d,Object.assign({className:t,onClick:this.handleHeaderSelectionClick("h3")},{children:S})),l.jsx(d,Object.assign({className:t,onClick:this.handleHeaderSelectionClick("h4")},{children:R})),l.jsx(d,Object.assign({className:t,onClick:this.handleHeaderSelectionClick("h5")},{children:A})),l.jsx(d,Object.assign({className:t,onClick:this.handleHeaderSelectionClick("h6")},{children:E}))]}))]}))}const D=this.state.displayMenu?"buttons hidden":"buttons",q=this.props.toolbarOptions.displayBoldButton||this.props.toolbarOptions.displayItalicButton||this.props.toolbarOptions.displayUnderlineButton||this.props.toolbarOptions.displayStrikeoutButton?l.jsxs("div",Object.assign({className:D},{children:[o,r,i,s]})):null,W=this.props.toolbarOptions.displayFontSizeButton||this.props.toolbarOptions.displayFontColorButton?l.jsxs("div",Object.assign({className:D},{children:[a,c]})):null,U=this.props.toolbarOptions.displayTextAlignLeftButton||this.props.toolbarOptions.displayTextAlignCenterButton||this.props.toolbarOptions.displayTextAlignRightButton?l.jsxs("div",Object.assign({className:D},{children:[z,H,_]})):null,Z=this.props.toolbarOptions.displayParagraphButton||this.props.toolbarOptions.displayHeaderButton||this.props.toolbarOptions.displayBulletListButton||this.props.toolbarOptions.displayNumberListButton?l.jsxs("div",Object.assign({className:D},{children:[L,I,V,$]})):null;return l.jsxs("div",Object.assign({className:e},{children:[q,W,U,Z,M]}))}}z.defaultProps={className:"ballpoint-tb",toolbarButtonClassName:"ballpoint-tb-bt",toolbarColorButtonClassName:"ballpoint-tb-color-bt",toolbarStyle:"default",toolbarOptions:{displayBoldButton:!0,displayItalicButton:!0,displayUnderlineButton:!0,displayStrikeoutButton:!0,displayFontSizeButton:!0,displayFontColorButton:!0,displayTextAlignLeftButton:!0,displayTextAlignCenterButton:!0,displayTextAlignRightButton:!0,displayParagraphButton:!0,displayHeaderButton:!0,displayBulletListButton:!0,displayNumberListButton:!0}};class H{constructor(e){var t,n,o,r;if(this.translateRangeNode=(e,t)=>{var n;if("#text"===(null==e?void 0:e.tagName))return{node:e,textOffset:t};if(!((null===(n=null==e?void 0:e.children)||void 0===n?void 0:n.length)>0))return{node:e,textOffset:0};const o=Math.max(t-1,0);return"#text"===(null==(e=e.children[o])?void 0:e.tagName)?{node:e,textOffset:e.text.length}:{node:e,textOffset:0}},this.getDOMNodeFromNode=e=>{if("#text"!==e.tagName)return e.domRef.current;if(!e.parent)return null;const t=e.parent.children.indexOf(e);return e.parent.domRef.current.childNodes[t]},this.getNodeFromDOMNode=(e,t)=>{const n=(e,t)=>{if(e.domRef.current===t)return e;for(let o=0;o<e.children.length;++o){const r=n(e.children[o],t);if(r)return r}return null};if(3===t.nodeType&&t.parentNode){const o=n(e,t.parentNode),r=Array.from(t.parentNode.childNodes).indexOf(t);return o?null==o?void 0:o.children[r]:null}return n(e,t)},this.findCommonAncestor=(e,t)=>{const n=[e];for(;e.parent;)n.push(e.parent),e=e.parent;const o=[t];for(;t.parent;)o.push(t.parent),t=t.parent;let r=n.length<=o.length?n:o,i=n===r?o:n;for(;r.length>0;){let e=r.shift();if(e&&i.includes(e))return e}return null},this.toJsRange=()=>{var e,t,n,o,r,i;let s,a,l,c;(null===(e=this.startNode)||void 0===e?void 0:e.parent)?(s="#text"===(null===(t=this.startNode)||void 0===t?void 0:t.tagName)?this.startNode:this.startNode.parent,a="#text"===(null===(n=this.startNode)||void 0===n?void 0:n.tagName)?this.startTextOffset:this.startNode.parent.children.indexOf(this.startNode)):(s=this.contentNode,a=0),(null===(o=this.endNode)||void 0===o?void 0:o.parent)?(l="#text"===(null===(r=this.endNode)||void 0===r?void 0:r.tagName)?this.endNode:this.endNode.parent,c="#text"===(null===(i=this.endNode)||void 0===i?void 0:i.tagName)?this.endTextOffset:this.endNode.parent.children.indexOf(this.endNode)):(l=s,c=a);const d=this.getDOMNodeFromNode(s),h=this.getDOMNodeFromNode(l);if(d&&h){let e=new Range;return e.setStart(d,a),e.setEnd(h,c),e}return null},this.contentNode=e.contentNode,e.jsRange){const n=this.getNodeFromDOMNode(e.contentNode,e.jsRange.startContainer),o=this.getNodeFromDOMNode(e.contentNode,e.jsRange.endContainer),r=this.getNodeFromDOMNode(e.contentNode,e.jsRange.commonAncestorContainer);if(n&&o){const i=this.translateRangeNode(n,e.jsRange.startOffset),s=this.translateRangeNode(o,e.jsRange.endOffset);this.startNode=i.node,this.startTextOffset=i.textOffset,this.endNode=s.node,this.endTextOffset=s.textOffset,this.commonAncestorNode=null!==(t=null!=r?r:this.findCommonAncestor(this.startNode,this.endNode))&&void 0!==t?t:e.contentNode,this.isCollapsed=e.jsRange.collapsed}else this.startNode=e.contentNode,this.startTextOffset=0,this.endNode=e.contentNode,this.endTextOffset=0,this.commonAncestorNode=e.contentNode,this.isCollapsed=!0}else!e.endNode&&e.startNode&&(e.endNode=e.startNode,e.endTextOffset=e.startTextOffset),!e.startNode&&e.endNode&&(e.startNode=e.endNode,e.startTextOffset=e.endTextOffset),e.startNode&&e.endNode?(this.isCollapsed=e.startNode&&e.startNode===e.endNode&&e.startTextOffset===e.endTextOffset||!e.endNode||!e.startNode,this.startNode=e.startNode,this.startTextOffset=e.startNode&&"#text"===e.startNode.tagName&&null!==(n=e.startTextOffset)&&void 0!==n?n:0,this.endNode=e.endNode,this.endTextOffset=e.endNode&&"#text"===e.endNode.tagName&&null!==(o=e.endTextOffset)&&void 0!==o?o:0,this.commonAncestorNode=null!==(r=this.findCommonAncestor(e.startNode,e.endNode))&&void 0!==r?r:e.contentNode):(this.startNode=e.contentNode,this.startTextOffset=0,this.endNode=e.contentNode,this.endTextOffset=0,this.commonAncestorNode=e.contentNode,this.isCollapsed=!0)}}function _(e,t){var n;if(!["right","left","center"].includes(t))return;const o=e.cloneState();o.selectionChange=null;const r=null===(n=document.getSelection())||void 0===n?void 0:n.getRangeAt(0);if(!r)return;const i=new H({jsRange:r,contentNode:o.contentNode});o.selectionChange=function(e,t,n){const o=["p","h1","h2","h3","h4","h5","h6"],r=["ul","ol"],i=[...o,...r];if(t.isCollapsed){const e=i.includes(t.startNode.tagName)?t.startNode:t.startNode.findParentWithTagName(i);return e&&(e.style=Object.assign(Object.assign({},e.style),{textAlign:n})),t}let s=[];e.children.forEach((e=>{r.includes(e.tagName)?s=[...s,e,...e.children]:s.push(e)}));const a=e.getChildIndexArray(t.startNode),l=e.getChildIndexArray(t.endNode),c=r.includes(e.children[a[0]].tagName)?e.children[a[0]].children[a[1]]:e.children[a[0]],d=r.includes(e.children[l[0]].tagName)?e.children[l[0]].children[l[1]]:e.children[l[0]],h=s.indexOf(c),f=s.indexOf(d);return s.slice(h,f+1).filter((e=>[...o,"li"].includes(e.tagName))).forEach((e=>e.style=Object.assign(Object.assign({},e.style),{textAlign:n}))),t}(o.contentNode,i,t),e.updateState(o)}class L{constructor(t,o,r,i){this.getAllChildrenWithTagNames=e=>{Array.isArray(e)||(e=[e]);const t=[];return this.children.forEach((n=>{e.includes(n.tagName)&&t.push(n),t.push(...n.getAllChildrenWithTagNames(e))})),t},this.getLastDeepChild=()=>{var e;return this.children.length>0?null===(e=this.children.at(-1))||void 0===e?void 0:e.getLastDeepChild():this},this.getPreviousNode=()=>{if(!this.parent)return null;const e=this.parent.children.indexOf(this);return e>0?this.parent.children[e-1].getLastDeepChild():this.parent},this.getNextNode=()=>{if(this.children.length>0)return this.children[0];let e=this;for(;e.parent;){const t=e.parent.children.indexOf(e);if(t>=0&&t<e.parent.children.length-1)return e.parent.children[t+1];e=e.parent}return null},this.getNextNodeWithTagName=e=>{let t=this;for(;t&&(t=t.getNextNode(),(null==t?void 0:t.tagName)!==e););return t},this.getFirstChildWithTagName=e=>{const t=Object.assign({},this);return t.parent=null,t.getNextNodeWithTagName(e)},this.isNodeParentOf=e=>{for(;e.parent;){if(e.parent===this)return!0;e=e.parent}return!1},this.getChildIndexArray=e=>{let t=[],n=!1;for(;e!==this&&e.parent;)t.unshift(e.parent.children.indexOf(e)),(e=e.parent)===this&&(n=!0);return!0===n?t:[]},this.findParentWithTagName=e=>{const t=Array.isArray(e)?t=>e.includes(t.tagName):t=>t.tagName===e;let n=this.parent;for(;n;){if(t(n))return n;n=n.parent}},this.compareTagAndStyle=e=>{if(!this||!e)return!1;if(this.tagName!==e.tagName)return!1;if(!this.style&&!e.style)return!0;if(this.style&&!e.style||!this.style&&e.style)return!1;if("object"==typeof this.style&&"object"==typeof e.style){const t=Object.keys(this.style),n=Object.keys(e.style);return t.length===n.length&&!t.some((t=>this.style&&e.style&&this.style[t]!==e.style[t]))}return!1},this.findParentWithTagAndStyle=(e,t)=>{const n=new L(e,null,void 0,{style:t});let o=this.parent;for(;o;){if(o.compareTagAndStyle(n))return o;o=o.parent}return null},this.getNodeFormatInfo=()=>{let e={},t={},n=this;for(;n.parent;){if(n.style)for(const[t,o]of Object.entries(n.style))e[t]||(e=Object.assign(Object.assign({},e),{[t]:{value:o,nodeRef:n}}));["b","i","u","s"].includes(n.tagName)&&(t[n.tagName]?t[n.tagName].push(n):t=Object.assign(Object.assign({},t),{[n.tagName]:[n]})),n=n.parent}return{effectiveFormatting:t,effectiveStyle:e}},this.nodeHasText=()=>"br"===this.tagName||("#text"===this.tagName&&this.text.length>0&&!this.text.match(/^\u200B+$/gi)||this.children.some((e=>!0===e.nodeHasText()))),this.wrap=(e,t)=>{var n,o;const r=null!==(o=null===(n=this.parent)||void 0===n?void 0:n.children.indexOf(this))&&void 0!==o?o:-1,i=new L(e,this.parent);i.children=[this],t&&"object"==typeof t&&(i.style=t),this.parent=i,i.parent&&(i.parent.children[r]=i)},this.remove=(e=!1)=>{var t;if(null==this?void 0:this.parent){if(!0===e&&(null===(t=this.children)||void 0===t?void 0:t.length)>0){const e=this.parent.children.indexOf(this);return this.children.forEach((e=>e.parent=this.parent)),void(this.parent.children=[...this.parent.children.slice(0,e),...this.children,...this.parent.children.slice(e+1)])}this.parent.children=this.parent.children.filter((e=>e!==this))}},this.migrateChildren=(e,t)=>{const n=[...this.children];n.forEach((t=>t.parent=e)),e.children=[...e.children.slice(0,t),...n,...e.children.slice(t)],this.children=[]},this.toFlatNodeTree=()=>{if(0===this.children.length)return[{tagName:this.tagName,isNodeStart:!0,isNodeEnd:!0,nodeRef:this}];let e=[];return this.children.forEach((t=>{e=[...e,...t.toFlatNodeTree()]})),[{tagName:this.tagName,isNodeStart:!0,isNodeEnd:!1,nodeRef:this},...e,{tagName:this.tagName,isNodeStart:!1,isNodeEnd:!0,nodeRef:this}]},this.toHtmlText=(e=!1)=>{if("#text"===this.tagName)return this.text;if("br"===this.tagName)return"</br>";let t="";this.children.forEach((e=>t+=e.toHtmlText(!0)));let n=`<${this.tagName}${(e=>{if(!e)return"";let t="";for(const n in e)t+=`${n}:${e[n]};`;return t.length>0&&(t=` style="${t}"`),t})(this.style)}>${t}</${this.tagName}>`;return e?n:`<html><body>${n}</body></html>`},this.toPlainText=()=>{if("#text"===this.tagName)return this.text;if("br"===this.tagName)return"\r\n";let e="";return this.children.forEach((t=>e+=t.toPlainText())),"p"===this.tagName?e+"\r\n":"li"===this.tagName?"\t"+e+"\r\n":e},this.toJSX=t=>{if("#text"===this.tagName&&0===this.text.length)return l.jsx("span",{ref:this.domRef},t);if("#text"===this.tagName)return l.jsx(e.Fragment,{children:this.text},t);if("br"===this.tagName)return l.jsx("br",{className:this.className,"data-id":this.id,ref:this.domRef},t);const n=this.tagName,o=this.children.map(((e,t)=>e.toJSX(t)));return l.jsx(n,Object.assign({className:this.className,style:this.style,"data-id":this.id,ref:this.domRef},{children:o}),t)},this.clone=(e,t)=>{const n=new L(this.tagName,t);if(n.style=this.style?Object.assign({},this.style):void 0,n.domRef=this.domRef,n.text=this.text,n.className=this.className,n.id=this.id,n.children=this.children.map((t=>t.clone(e,n))),e&&e.length>0){let t=e.indexOf(this);t>=0&&(e[t]=n)}return n},this.id="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),this.tagName=t,this.children=[],this.parent=o,this.text="",this.domRef=n(),this.style=null==i?void 0:i.style,this.className=null==i?void 0:i.className,o&&"number"==typeof r&&r>=0&&(o.children=[...o.children.slice(0,r),this,...o.children.slice(r)]),o&&"number"==typeof r&&-1===r&&o.children.push(this)}}function I(e,t,n,o=!1){const r=new L(t,null,void 0,{style:n});if(e.children.length>1){const t=(e,n,o)=>{var i;n||(n=[]);const s=e.shift();return s?(s.compareTagAndStyle(r)&&!(null==o?void 0:o.compareTagAndStyle(r))&&n.push([]),s.compareTagAndStyle(r)&&(null===(i=n.at(-1))||void 0===i||i.push(s)),t(e,n,s)):n},n=[...e.children];t(n).filter((e=>e.length>0)).forEach((e=>{const t=e,n=t.shift();n&&(t.forEach((e=>{n.children=[...n.children,...e.children],e.remove(!1)})),n.children.forEach((e=>e.parent=n)))}))}!0!==o&&e.children.forEach((e=>I(e,t,n)))}function V(e,t,n){if(!e.parent)return[e];if(n?(Array.isArray(n)||(n=[n]),n.forEach((t=>t.parent=e.parent))):n=[],"#text"===e.tagName){let o=e.parent.children.indexOf(e),r=e.text.slice(0,t),i=e.text.slice(t);0===r.length&&(r=""),0===i.length&&(i=""),e.text=r;let s=new L("#text",e.parent);return s.text=i,e.parent.children=[...e.parent.children.slice(0,o+1),...n,s,...e.parent.children.slice(o+1)],[e,...n,s]}if("br"!==e.tagName){let o=e.parent.children.indexOf(e),r=e.children.slice(0,t),i=e.children.slice(t);e.children=r;let s=new L(e.tagName,e.parent);return s.style=e.style,i.forEach((e=>e.parent=s)),s.children=i,e.parent.children=[...e.parent.children.slice(0,o+1),...n,s,...e.parent.children.slice(o+1)],[e,...n,s]}return[e]}function $(e,t,n){if(e.children.length>1){const n=(e,t,n)=>n+e.slice(0,t).map((e=>e.text.length)).reduce(((e,t)=>e+t),0),o=(e,n,r)=>{n||(n=[]);const i=e.shift();if(!i)return n;"#text"===i.tagName&&"#text"!==(null==r?void 0:r.tagName)&&n.push({nodes:[]});const s=n.at(-1);return s&&i===(null==t?void 0:t.startNode)&&(s.selectionStartNodeIx=s.nodes.length),s&&i===(null==t?void 0:t.endNode)&&(s.selectionEndNodeIx=s.nodes.length),s&&"#text"===i.tagName&&s.nodes.push(i),o(e,n,i)},r=[...e.children];o(r).filter((e=>e.nodes.length>1)).forEach((e=>{const o=[...e.nodes],r=o.shift();r&&(e.selectionStartNodeIx&&e.selectionStartNodeIx>=0&&(t.startNode=r,t.startTextOffset=n(e.nodes,e.selectionStartNodeIx,t.startTextOffset)),e.selectionEndNodeIx&&e.selectionEndNodeIx>=0&&(t.endNode=r,t.endTextOffset=n(e.nodes,e.selectionEndNodeIx,t.endTextOffset)),o.forEach((e=>{r.text+=e.text,e.remove(!1)})))}))}return!0!==n&&e.children.forEach((e=>$(e,t))),t}function M(e,t){var n;const o=e.cloneState();o.selectionChange=null;const r=null===(n=document.getSelection())||void 0===n?void 0:n.getRangeAt(0);if(!r)return;const i=new H({jsRange:r,contentNode:o.contentNode});r.collapsed?o.selectionChange=function(e,t,n,o,r,i=!0){var s,a,l,c,d,h,f;const u=new H({contentNode:e,startNode:o,startTextOffset:r});if("#text"!==(null==o?void 0:o.tagName)&&"br"!==(null==o?void 0:o.tagName))if(o===e&&(o=e.children[0]),"#text"===(null===(s=o.children[0])||void 0===s?void 0:s.tagName))o=o.children[0],r=0;else{const e=new L("#text",o);o.children=[e,...o.children],o=e,r=0}if("#text"===(null==o?void 0:o.tagName)){const s=o.getNodeFormatInfo(),u=(null===(a=s.effectiveFormatting[n])||void 0===a?void 0:a.length)>0;if(u&&!1===i)return new H({contentNode:e,startNode:o,startTextOffset:r});let p=null;if(0===o.text.length||o.text.match(/^\u200B+$/gi))p=o;else{let e=V(o,r,new L("#text",o.parent));p=e[1],(0===e[0].text.length||e[0].text.match(/^\u200B+$/gi))&&e[0].remove(!1),(0===e[2].text.length||e[2].text.match(/^\u200B+$/gi))&&e[2].remove(!1)}if(0===(null===(l=null==p?void 0:p.text)||void 0===l?void 0:l.length)&&-1===t.indexOf(p)&&t.push(p),u){const t=null===(d=null===(c=s.effectiveFormatting[n])||void 0===c?void 0:c.at(-1))||void 0===d?void 0:d.parent,o=null===(f=null===(h=s.effectiveFormatting[n])||void 0===h?void 0:h.at(-1))||void 0===f?void 0:f.getAllChildrenWithTagNames(["#text","br"]);return o&&t?(o.filter((e=>e!==p)).forEach((e=>{e.wrap(n)})),s.effectiveFormatting[n].forEach((e=>e.remove(!0))),I(t,n,void 0),new H({contentNode:e,startNode:p,startTextOffset:0})):new H({contentNode:e,startNode:p,startTextOffset:0})}return p.wrap(n),new H({contentNode:e,startNode:p,startTextOffset:0})}return u}(o.contentNode,o.temporaryTextNodeRefs,t,i.startNode,i.startTextOffset):o.selectionChange=function(e,t,n,o=!0){var r,i,s;if(t.startNode===t.endNode&&"#text"===(null===(r=t.startNode)||void 0===r?void 0:r.tagName)){let n=[t.startNode.text.slice(0,t.startTextOffset),t.startNode.text.slice(t.startTextOffset,t.endTextOffset),t.startNode.text.slice(t.endTextOffset)];const o=new L("#text",t.startNode.parent);o.text=n[1];const r=V(t.startNode,t.startTextOffset,o);r[2].text=n[2],0!==r[0].text.length&&""!==r[0].text||r[0].remove(!1),0!==r[2].text.length&&""!==r[2].text||r[2].remove(!1),t=new H({contentNode:e,startNode:o,endNode:o,startTextOffset:0,endTextOffset:o.text.length})}else{if("#text"===(null===(i=t.startNode)||void 0===i?void 0:i.tagName)&&t.startTextOffset>0){const n=V(t.startNode,t.startTextOffset)[1];t=new H({contentNode:e,startNode:n,endNode:t.endNode,startTextOffset:0,endTextOffset:t.endTextOffset})}if("#text"===(null===(s=t.endNode)||void 0===s?void 0:s.tagName)&&t.endTextOffset<t.endNode.text.length){const n=V(t.endNode,t.endTextOffset)[0];t=new H({contentNode:e,startNode:t.startNode,endNode:n,startTextOffset:t.startTextOffset,endTextOffset:n.text.length})}}if(!t.commonAncestorNode)return t;const a=t.commonAncestorNode.toFlatNodeTree(),l=a.findIndex((e=>e.nodeRef===t.startNode)),c=a.findIndex((e=>e.nodeRef===t.endNode)),d=a.slice(l,c+1).filter((e=>"#text"===e.tagName||"br"===e.tagName)).map((e=>e.nodeRef));let h=!0,f=[];if(d.forEach((e=>{var t;const o=e.getNodeFormatInfo();(null===(t=o.effectiveFormatting[n])||void 0===t?void 0:t.length)>0?f=[...f,...o.effectiveFormatting[n]]:h=!1})),h&&!1===o)return t;f=[...new Set(f)];let u=[];return f.forEach((e=>{u=[...u,...e.getAllChildrenWithTagNames(["#text","br"])]})),u=[...new Set(u)],h&&!0===o&&(u.filter((e=>!d.includes(e))).forEach((e=>e.wrap(n))),f.forEach((e=>e.remove(!0)))),h||d.filter((e=>!u.includes(e))).forEach((e=>e.wrap(n))),I(e,n,void 0),$(e,t)}(o.contentNode,i,t,void 0),e.updateState(o)}function D(e,t,n,o){var r,i,s;if(t.startNode===t.endNode&&"#text"===(null===(r=t.startNode)||void 0===r?void 0:r.tagName)){let n=[t.startNode.text.slice(0,t.startTextOffset),t.startNode.text.slice(t.startTextOffset,t.endTextOffset),t.startNode.text.slice(t.endTextOffset)];const o=new L("#text",t.startNode.parent);o.text=n[1];const r=V(t.startNode,t.startTextOffset,o);r[2].text=n[2],0!==r[0].text.length&&""!==r[0].text||r[0].remove(!1),0!==r[2].text.length&&""!==r[2].text||r[2].remove(!1),t=new H({contentNode:e,startNode:o,endNode:o,startTextOffset:0,endTextOffset:o.text.length})}else{if("#text"===(null===(i=t.startNode)||void 0===i?void 0:i.tagName)&&t.startTextOffset>0){const n=V(t.startNode,t.startTextOffset)[1];t=new H({contentNode:e,startNode:n,endNode:t.endNode,startTextOffset:0,endTextOffset:t.endTextOffset})}if("#text"===(null===(s=t.endNode)||void 0===s?void 0:s.tagName)&&t.endTextOffset<t.endNode.text.length){const n=V(t.endNode,t.endTextOffset)[0];t=new H({contentNode:e,startNode:t.startNode,endNode:n,startTextOffset:t.startTextOffset,endTextOffset:n.text.length})}}if(!t.commonAncestorNode)return t;const a=t.commonAncestorNode.toFlatNodeTree(),l=a.findIndex((e=>e.nodeRef===t.startNode)),c=a.findIndex((e=>e.nodeRef===t.endNode));return a.slice(l,c+1).filter((e=>"#text"===e.tagName||"br"===e.tagName)).map((e=>e.nodeRef)).forEach((e=>{var t;(null===(t=e.getNodeFormatInfo().effectiveStyle[n])||void 0===t?void 0:t.value)!==o&&e.wrap("span",{[n]:o})})),function(e,t){const n=(e,t,o)=>{0===e.children.length&&o.push(e);let r=e.style&&void 0!==e.style[t]?[e]:[];return e.children.forEach((e=>{r=[...r,...n(e,t,o)]})),r};let o=[];const r=n(e,t,o);let i=o.map((e=>((e,t)=>{for(;e.parent;){if(e.style&&e.style[t])return e;e=e.parent}return null})(e,t)));i=[...new Set(i)],r.filter((e=>!i.includes(e))).forEach((e=>{e.style&&(Object.keys(e.style).includes(t)&&delete e.style[t],"span"===e.tagName&&Object.keys(e.style).length<1&&e.remove(!0))}))}(e,n),I(e,"span",{[n]:o}),$(e,t)}function q(e,t,n){var o;if(!t||!n)return;if(!["color","fontSize"].includes(t))return;const r=e.cloneState();r.selectionChange=null;const i=null===(o=document.getSelection())||void 0===o?void 0:o.getRangeAt(0);if(!i)return;const s=new H({jsRange:i,contentNode:r.contentNode});i.collapsed?r.selectionChange=function(e,t,n,o,r,i,s=!0){var a,l,c,d;const h=new H({contentNode:e,startNode:r,startTextOffset:i});if("#text"!==(null==r?void 0:r.tagName)&&"br"!==(null==r?void 0:r.tagName))if(r===e&&(r=e.children[0]),"#text"===(null===(a=r.children[0])||void 0===a?void 0:a.tagName))r=r.children[0],i=0;else{const e=new L("#text",r);r.children=[e,...r.children],r=e,i=0}if("#text"===(null==r?void 0:r.tagName)){const a=r.getNodeFormatInfo(),h=a&&(null===(l=a.effectiveStyle[n])||void 0===l?void 0:l.value.toLowerCase())===o.toLowerCase();if(h&&!1===s)return new H({contentNode:e,startNode:r,startTextOffset:i});let f=null;if(0===r.text.length||r.text.match(/^\u200B+$/gi))f=r;else{let e=V(r,i,new L("#text",r.parent));f=e[1],(0===e[0].text.length||e[0].text.match(/^\u200B+$/gi))&&e[0].remove(!1),(0===e[2].text.length||e[2].text.match(/^\u200B+$/gi))&&e[2].remove(!1)}if(0===(null===(c=null==f?void 0:f.text)||void 0===c?void 0:c.length)&&-1===t.indexOf(f)&&t.push(f),h){const t=null===(d=a.effectiveStyle[n])||void 0===d?void 0:d.nodeRef;t.getAllChildrenWithTagNames(["#text","br"]).filter((e=>e!==f)).forEach((e=>{e.wrap("span",{[n]:o})}));const r=t.parent;return t.remove(!0),r&&I(r,"span",{[n]:o}),new H({contentNode:e,startNode:f,startTextOffset:0})}return f.wrap("span",{[n]:o}),new H({contentNode:e,startNode:f,startTextOffset:0})}return h}(r.contentNode,r.temporaryTextNodeRefs,t,n,s.startNode,s.startTextOffset,!1):r.selectionChange=D(r.contentNode,s,t,n),e.updateState(r)}function W(e,t){var n;if("p"!==t&&"h1"!==t&&"h2"!==t&&"h3"!==t&&"h3"!==t&&"h4"!==t&&"h5"!==t&&"h6"!==t)return;const o=e.cloneState();o.selectionChange=null;const r=null===(n=document.getSelection())||void 0===n?void 0:n.getRangeAt(0);if(!r)return;const i=new H({jsRange:r,contentNode:o.contentNode});o.selectionChange=function(e,t,n){const o=e.getChildIndexArray(n.startNode),r=e.getChildIndexArray(n.endNode);if(0===o.length||0===r.length)return n;const i=e.children.slice(o[0],r[0]+1);return i.forEach(((e,n)=>{if(["p","h1","h2","h3","h4","h5","h6"].includes(e.tagName)&&(e.tagName=t),["ul","ol"].includes(e.tagName)){if(n>0&&n<i.length-1&&(e.children.forEach((e=>"li"===e.tagName?e.tagName=t:e.tagName)),e.remove(!0)),0===n&&1===i.length){let n=o[1],i=V(e,n),s=r[1]-n,a=V(i[1],s+1);a[0].children.forEach((e=>"li"===e.tagName?e.tagName=t:e.tagName)),a[0].remove(!0),0===i[0].children.length&&i[0].remove(!1),0===a[1].children.length&&a[1].remove(!1)}if(0===n&&i.length>1){let n=V(e,o[1]);n[1].children.forEach((e=>"li"===e.tagName?e.tagName=t:e.tagName)),n[1].remove(!0),0===n[0].children.length&&n[0].remove(!1)}if(n>0&&n===i.length-1){let n=V(e,r[1]+1);n[0].children.forEach((e=>"li"===e.tagName?e.tagName=t:e.tagName)),n[0].remove(!0),0===n[1].children.length&&n[1].remove(!1)}}})),n}(o.contentNode,t,i),e.updateState(o)}function U(e,t){var n;if(!["ol","ul"].includes(t))return;const o=e.cloneState();o.selectionChange=null;const r=null===(n=document.getSelection())||void 0===n?void 0:n.getRangeAt(0);if(!r)return;const i=new H({jsRange:r,contentNode:o.contentNode});o.selectionChange=function(e,t,n){if(!t.startNode||!t.endNode)return t;let o="ul";"ol"!==n&&"ordered-list"!==n||(o="ol");const r=e.getChildIndexArray(t.startNode),i=e.getChildIndexArray(t.endNode),s=["p","h1","h2","h3","h4","h5","h6"],a=e.children.slice(r[0],i[0]+1);a.filter((e=>![...s,"ul","ol"].includes(e.tagName))).forEach((e=>e.wrap("p")));let l=[];if(a.forEach(((e,t)=>{"ul"===e.tagName||"ol"===e.tagName?0===t||t===a.length-1?(0===t&&1===a.length&&(l=[...l,...e.children.slice(r[1],i[1]+1)]),0===t&&t<a.length-1&&(l=[...l,...e.children.slice(r[1])]),t>0&&t===a.length-1&&(l=[...l,...e.children.slice(0,i[1]+1)])):l=[...l,...e.children]:l.push(e)})),l.some((e=>!s.includes(e.tagName))))if(l.every((e=>e.parent&&"li"===e.tagName&&e.parent.tagName===o))){const t=[];l.forEach((e=>{e.parent&&!t.includes(e.parent)&&t.push(e.parent),e.tagName="p",0===e.children.length&&(new L("#text",e,0).text="")}));const n=[];t.forEach((e=>e.children.filter((e=>"li"===e.tagName)).forEach((t=>{n.includes(e.tagName)||n.push(e.tagName),t.wrap(e.tagName)})))),t.forEach((e=>{e.remove(!0)})),n.forEach((t=>I(e,t,void 0,!0)))}else{const t=[];l.filter((e=>"li"===e.tagName)).forEach((e=>{e.parent&&!t.includes(e.parent)&&t.push(e.parent),e.wrap(o)}));const n=[o];t.forEach((e=>e.children.filter((e=>"li"===e.tagName)).forEach((t=>{n.includes(e.tagName)||n.push(e.tagName),t.wrap(e.tagName)})))),t.forEach((e=>{e.remove(!0)})),l.filter((e=>s.includes(e.tagName))).forEach((e=>{e.tagName="li",e.wrap(o),0===e.children.length&&(new L("#text",e,0).text="")})),n.forEach((t=>I(e,t,void 0,!0)))}else l.forEach((e=>{e.tagName="li",e.wrap(o),0===e.children.length&&(new L("#text",e,0).text="")})),I(e,o,void 0,!0);return t}(o.contentNode,i,t),e.updateState(o)}function Z(e,t){var n;if(t.startNode===t.endNode&&"#text"===(null===(n=t.startNode)||void 0===n?void 0:n.tagName))return t.startNode.text=t.startNode.text.slice(0,t.startTextOffset)+t.startNode.text.slice(t.endTextOffset),0===t.startNode.text.length?(t.startNode.text="",new H({contentNode:e,startNode:t.startNode,startTextOffset:1})):new H({contentNode:e,startNode:t.startNode,startTextOffset:t.startTextOffset});const o=t.commonAncestorNode.toFlatNodeTree(),r=o.findIndex((e=>e.nodeRef===t.startNode)),i=o.findIndex((e=>e.nodeRef===t.endNode)),s=o.slice(r+1,i),a=[],l=[];s.forEach((e=>{const t=e.nodeRef.id,n=s.findIndex((e=>e.nodeRef.id===t&&!0===e.isNodeStart))>=0,o=s.findIndex((e=>e.nodeRef.id===t&&!0===e.isNodeEnd))>=0;n&&o?a.push(e.nodeRef):n&&l.push(e.nodeRef)})),a.forEach((e=>{e.remove(!1)})),"#text"===t.endNode.tagName?t.endNode.text=t.endTextOffset>=t.endNode.text.length?"":t.endNode.text.slice(t.endTextOffset):t.endNode.remove(!1),"#text"===t.startNode.tagName&&(t.startNode.text=0===t.startTextOffset?"":t.startNode.text.slice(0,t.startTextOffset)),l.forEach((e=>{e.nodeHasText()||e.remove(!1)}));let c=new H({contentNode:e,startNode:t.startNode,startTextOffset:t.startTextOffset});return $(t.commonAncestorNode,c)}function K(e,t,n){var o,r,i,s,a,l,c;if(t===e)return new H({contentNode:e,startNode:t,startTextOffset:0});if("#text"===t.tagName){if(t.text.match(/^\u200B+$/gi)&&(t.text="",n=0),t.text.length>0&&n>0)return t.text=t.text.slice(0,n-1)+t.text.slice(n),0===t.text.length&&(t.text=""),new H({contentNode:e,startNode:t,startTextOffset:n-1});if(t.text.length>0&&0===n){const n=t.getPreviousNode();return n&&n.parent?K(e,n,"#text"===n.tagName?n.text.length:0):new H({contentNode:e,startNode:t,startTextOffset:0})}if(0===t.text.length){const n=t.getPreviousNode();return t.remove(!1),n&&n.parent?K(e,n,"#text"===n.tagName?n.text.length:0):new H({contentNode:e,startNode:e,startTextOffset:0})}}if("br"===t.tagName&&t.parent){let n=t.getPreviousNode();const s=null===(o=t.parent)||void 0===o?void 0:o.children.indexOf(t),a=s>0&&"#text"===(null===(r=t.parent.children[s-1])||void 0===r?void 0:r.tagName)&&"#text"===(null===(i=t.parent.children[s+1])||void 0===i?void 0:i.tagName),l=t.parent;if(t.remove(!1),"p"===(null==n?void 0:n.tagName)&&0===n.children.length){const e=new L("#text",n,0);e.text="",n=e}let c=n&&n.parent?new H({contentNode:e,startNode:n,startTextOffset:"#text"===n.tagName?n.text.length:0}):new H({contentNode:e,startNode:e,startTextOffset:0});return a?$(l,c,!0):c}const d=["p","h1","h2","h3","h4","h5","h6"];if(d.includes(t.tagName)){if(0===e.children.indexOf(t)){if(0===t.children.length){new L("#text",t,0).text=""}return new H({contentNode:e,startNode:t,startTextOffset:0})}const n=t.getPreviousNode(),o=null!==(a=null===(s=t.parent)||void 0===s?void 0:s.children.indexOf(t))&&void 0!==a?a:-1;if(o>0&&t.parent&&d.includes(t.parent.children[o-1].tagName)){const e=t.parent.children[o-1];t.migrateChildren(e,e.children.length),t.remove(!1)}else t.remove(!0);return n&&n.parent?new H({contentNode:e,startNode:n,startTextOffset:"#text"===n.tagName?n.text.length:0}):new H({contentNode:e,startNode:e,startTextOffset:0})}if("li"===t.tagName){let n=null;const o=null!==(c=null===(l=t.parent)||void 0===l?void 0:l.children.indexOf(t))&&void 0!==c?c:-1;if(o>0&&t.parent&&"li"===t.parent.children[o-1].tagName){const r=t.getPreviousNode();n=r&&r.parent?new H({contentNode:e,startNode:r,startTextOffset:"#text"===r.tagName?r.text.length:0}):new H({contentNode:e,startNode:e,startTextOffset:0});const i=t.parent.children[o-1];t.migrateChildren(i,i.children.length),t.remove(!1)}else if(0===o){const o=t.findParentWithTagName(["ul","ol"]);if(o&&o.parent){const r=o.parent.children.indexOf(o),i=new L("p",o.parent,r);if(t.migrateChildren(i,i.children.length),0===i.children.length){new L("#text",i,0).text=""}const s=i.getFirstChildWithTagName("#text");n=new H(s?{contentNode:e,startNode:s,startTextOffset:0}:{contentNode:e,startNode:i,startTextOffset:0}),t.remove(!1),0===o.children.length&&o.remove(!1)}}return n}if(["b","i","u","span"].indexOf(t.tagName)>=0){const n=t.getPreviousNode();let o=n&&n.parent?new H({contentNode:e,startNode:n,startTextOffset:"#text"===n.tagName?n.text.length:0}):new H({contentNode:e,startNode:e,startTextOffset:0});if(0===t.children.length){const e=t.parent;t.remove(!1),e&&(o=$(e,o))}return o.startNode?K(e,o.startNode,o.startTextOffset):null}const h=t.getPreviousNode();return h&&h.parent?K(e,h,"#text"===h.tagName?h.text.length:0):new H({contentNode:e,startNode:e,startTextOffset:0})}function J(e){var t;let n=e.cloneState();n.selectionChange=null;const o=null===(t=document.getSelection())||void 0===t?void 0:t.getRangeAt(0);if(!o)return;const r=new H({jsRange:o,contentNode:n.contentNode});r.isCollapsed?n.selectionChange=K(n.contentNode,r.startNode,r.startTextOffset):n.selectionChange=Z(n.contentNode,r),e.updateState(n)}const Q=e=>{const t={" ":""};return t[e]?t[e]:e},Y=(e,t,n)=>{var o,r,i,s;if("#text"!==t.tagName)return null;const a=/\u200B/gi;if(0===(null!==(r=null===(o=t.text.match(a))||void 0===o?void 0:o.length)&&void 0!==r?r:0))return new H({contentNode:e,startNode:t,startTextOffset:n});{const o=null!==(s=null===(i=t.text.slice(0,n).match(a))||void 0===i?void 0:i.length)&&void 0!==s?s:0;return t.text=t.text.replace(a,""),new H({contentNode:e,startNode:t,startTextOffset:n-o})}};function X(e,t,n,o){var r,i,s,a;if("#text"===t.tagName)return t.text=t.text.slice(0,n)+Q(o)+t.text.slice(n),Y(e,t,n+1);{if(t===e){let t=["p","ul"].includes(null===(r=e.children[0])||void 0===r?void 0:r.tagName)?e.children[0]:null;if(t){if("ul"===t.tagName){const e=t.getFirstChildWithTagName("li");t=null!=e?e:new L("li",t,0)}}else t=new L("p",e,0);return X(e,t,0,o)}if(t!==e&&"br"!==(null==t?void 0:t.tagName)){let n="#text"===(null===(i=t.children[0])||void 0===i?void 0:i.tagName)?t.children[0]:null;return n||(n=new L("#text",t,0)),n.text=Q(o)+n.text,new H({contentNode:e,startNode:n,startTextOffset:1})}const n=null!==(a=null===(s=t.parent)||void 0===s?void 0:s.children.indexOf(t))&&void 0!==a?a:-1;if(t.parent&&n>-1&&"br"===(null==t?void 0:t.tagName)){if(n>0&&"#text"===t.parent.children[n-1].tagName){const r=t.parent.children[n-1];return r.text=Q(o)+r.text,Y(e,r,1)}{const r=new L("#text",t.parent,n+1);return r.text=Q(o),new H({contentNode:e,startNode:r,startTextOffset:1})}}return null}}function G(e,t,n){if("#text"===t.tagName){const o=V(t,n),r=o[0].parent?o[0].parent.children.indexOf(o[0])+1:void 0;return new L("br",o[0].parent,r),new H({contentNode:e,startNode:o[1],startTextOffset:0})}if(t===e){const o=["p","h1","h2","h3","h4","h5","h6"];if(0===t.children.length){return G(e,new L("p",e,0),0)}return o.includes(t.children[0].tagName)?G(e,t.children[0],0):new H({contentNode:e,startNode:t,startTextOffset:n})}if(t.parent){const n=t.parent.children.indexOf(t);if(n===t.parent.children.length-1){new L("br",t.parent,-1);const n=new L("br",t.parent,-1);return n.text="",new H({contentNode:e,startNode:n,startTextOffset:0})}const o=new L("br",t.parent,n+1);return new H({contentNode:e,startNode:o,startTextOffset:0})}return new H({contentNode:e,startNode:t,startTextOffset:n})}function ee(e,t,n){let o,r=new H({contentNode:e,startNode:t,startTextOffset:n});if(["p","h1","h2","h3","h4","h5","h6"].includes(t.tagName)&&0===t.children.length){let n=V(t,0);return n.forEach((e=>{new L("#text",e,0).text=""})),new H({contentNode:e,startNode:n[1].children[0],startTextOffset:0})}let i=n;for("#text"!==t.tagName&&t.parent&&(i=(t=t.parent).parent?t.parent.children.indexOf(t)+1:0);t&&t!==e&&t.parent;){let n=t.parent.children.indexOf(t)+1,r=t.parent,s=V(t,i);!o&&s&&(o=new H({contentNode:e,startNode:s[1],startTextOffset:0})),t=r,i=n}return null!=o?o:r}function te(e,t,n){const o=["p","h1","h2","h3","h4","h5","h6"],r=[...o,"ul","ol"];if(-1===e.children.findIndex((e=>r.includes(e.tagName)))){let t=new L("p",e);e.children.forEach((e=>{e.parent=t})),t.children=e.children,e.children=[t]}const i=r.includes(t.tagName)?t:t.findParentWithTagName(r);return i?o.includes(null==i?void 0:i.tagName)?ee(e,t,n):"ul"===(null==i?void 0:i.tagName)||"ol"===(null==i?void 0:i.tagName)?function(e,t,n){var o;if("ul"===t.tagName||"ol"===t.tagName){if(0===t.children.length){t.tagName="p";const n=new L("#text",t,0);return n.text="",new H({contentNode:e,startNode:n,startTextOffset:0})}t=null!==(o=t.getFirstChildWithTagName("li"))&&void 0!==o?o:new L("li",t,0)}let r="li"===t.tagName?t:t.findParentWithTagName("li");if(r&&(0===r.children.length||!r.nodeHasText())&&r.parent){let t=V(r.parent,r.parent.children.indexOf(r));r.remove(!1);const n=t[0].parent?t[0].parent.children.indexOf(t[0])+1:void 0,o=new L("p",t[0].parent,n),i=new L("#text",o,0);return i.text="",t.forEach((e=>{0===e.children.length&&e.remove(!1)})),new H({contentNode:e,startNode:i,startTextOffset:0})}let i=null;const s=new H({contentNode:e,startNode:t,startTextOffset:n});let a=n;for("#text"!==t.tagName&&t.parent&&(a=(t=t.parent).parent?t.parent.children.indexOf(t)+1:0);t&&t!==e&&t.parent&&"ul"!==t.tagName&&"ol"!==t.tagName;){let n=t.parent.children.indexOf(t)+1,o=t.parent,r=V(t,a);!i&&r&&(i=new H({contentNode:e,startNode:r[1],startTextOffset:0})),t=o,a=n}return null!=i?i:s}(e,t,n):new H({contentNode:e,startNode:t,startTextOffset:n}):ee(e,e,0)}function ne(e,t){var n;let o=e.cloneState();o.selectionChange=null;const r=null===(n=document.getSelection())||void 0===n?void 0:n.getRangeAt(0);if(!r)return;const i=new H({jsRange:r,contentNode:o.contentNode});if(i.isCollapsed)o.selectionChange=!0===t?G(o.contentNode,i.startNode,i.startTextOffset):te(o.contentNode,i.startNode,i.startTextOffset);else{const e=Z(o.contentNode,i);o.selectionChange=!0===t?G(o.contentNode,e.startNode,e.startTextOffset):te(o.contentNode,e.startNode,e.startTextOffset)}e.updateState(o)}function oe(e){if(e.redoStates.length>0){const t=e.redoStates.pop();t&&e.updateState(t)}}function re(e){if(e.priorStates.length>0){e.redoStates=[e.cloneState()];const t=e.priorStates.pop();t&&e.updateState(t,!1)}}function ie(e,t){return function(n){switch(!0){case"c"===n.key.toLowerCase()&&!0===n.ctrlKey:case"v"===n.key.toLowerCase()&&!0===n.ctrlKey:case"x"===n.key.toLowerCase()&&!0===n.ctrlKey:break;case"Backspace"===n.key:n.preventDefault(),J(e);break;case"Enter"===n.key&&!0===n.shiftKey:n.preventDefault(),ne(e,!0);break;case"b"===n.key.toLowerCase()&&!0===n.ctrlKey:n.preventDefault(),!0===(null==t?void 0:t.allowBold)&&M(e,"b");break;case"i"===n.key.toLowerCase()&&!0===n.ctrlKey:n.preventDefault(),!0===(null==t?void 0:t.allowItalic)&&M(e,"i");break;case"u"===n.key.toLowerCase()&&!0===n.ctrlKey:n.preventDefault(),!0===(null==t?void 0:t.allowUnderline)&&M(e,"u");break;case"z"===n.key.toLowerCase()&&!0===n.ctrlKey:n.preventDefault(),!0===(null==t?void 0:t.allowUndo)&&re(e);break;case"y"===n.key.toLowerCase()&&!0===n.ctrlKey:n.preventDefault(),!0===(null==t?void 0:t.allowRedo)&&oe(e);break;case"Enter"===n.key:n.preventDefault(),ne(e,!1);break;case 1===n.key.length:n.preventDefault(),function(e,t){var n;let o=e.cloneState();o.selectionChange=null;const r=null===(n=document.getSelection())||void 0===n?void 0:n.getRangeAt(0);if(!r)return;const i=new H({jsRange:r,contentNode:o.contentNode});if(i.isCollapsed)o.selectionChange=X(o.contentNode,i.startNode,i.startTextOffset,t);else{const e=Z(o.contentNode,i);o.selectionChange=X(o.contentNode,e.startNode,e.startTextOffset,t)}e.updateState(o)}(e,n.key);break;default:let o=e.cloneState();o.selectionChange=null,e.setState(Object.assign({},o))}}}var se,ae,le,ce,de,he,fe,ue;function pe(e){const t=["p","h1","h2","h3","h4","h5","h6","ol","ul"],n=["b","i","u","span","br","#text"],o=["b","i","u","span","br","#text"],r=(e,t)=>{if(!Array.isArray(e.children))return;e.children.filter((e=>!t.includes(e.tagName))).forEach((e=>{e.remove(e.children.length>0)})),e.children.forEach((e=>r(e,t)))},i=(e,t)=>{var n,o;const r=new L(e.tagName,t,-1);return r.text=e.text,"object"==typeof(null===(n=e.props)||void 0===n?void 0:n.style)&&(r.style=null===(o=e.props)||void 0===o?void 0:o.style),e.children.forEach((e=>i(e,r))),r},s=e.children.find((e=>"html"===e.tagName.toLowerCase()));if(!s)throw new Error("Cannot convert parsed root node because there is no 'html' node child");const a=s.children.find((e=>"body"===e.tagName.toLowerCase()));if(!a)return;r(a,["p","h1","h2","h3","h4","h5","h6","ol","ul","li","b","i","u","span","br","#text"]),a.children.filter((e=>!t.includes(e.tagName))).forEach((e=>{n.includes(e.tagName)?e.wrap("p"):e.remove(!1)}));const l=["p","h1","h2","h3","h4","h5","h6"];return a.children.filter((e=>l.includes(e.tagName))).forEach((e=>r(e,n))),a.children.filter((e=>["ol","ul"].includes(e.tagName))).forEach((e=>{e.children.filter((e=>"li"!==e.tagName)).forEach((t=>{o.includes(t.tagName)?e.wrap("li"):e.remove(!1)}))})),i(a)}function ge(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)}c(".ballpoint-core-area {\r\n    min-height: 100px;\r\n    padding: 0 10px;\r\n    display: flex;\r\n}\r\n.ballpoint-core-area.focus-theme-monochrome-dark,\r\n.ballpoint-core-area.focus-theme-monochrome-light,\r\n.ballpoint-core-area.focus-theme-color {\r\n    border-left: 2px solid transparent;\r\n    transition: border-left-color 200ms;\r\n}\r\n.ballpoint-core-area:focus {\r\n    outline: none !important;\r\n}\r\n.ballpoint-core-area.focus-theme-monochrome-dark:focus {\r\n    border-left-color: rgb(120, 120, 120);\r\n}\r\n.ballpoint-core-area.focus-theme-monochrome-light:focus {\r\n    border-left-color: rgb(160, 160, 160);\r\n}\r\n.ballpoint-core-area.focus-theme-color:focus {\r\n    border-left-color: steelblue;\r\n}\r\n.ballpoint-core-area.default {\r\n    background-color: rgb(248, 248, 248);\r\n}\r\n.ballpoint-core-area.light {\r\n    background-color: transparent;\r\n}\r\n.ballpoint-core-area.dark {\r\n    background-color: rgb(60, 60, 60);\r\n    caret-color: white;\r\n}\r\n.ballpoint-core-area.focus-theme-monochrome-dark ::selection {\r\n    background: rgb(90, 90, 90);\r\n    color:white;\r\n}\r\n.ballpoint-core-area.focus-theme-monochrome-light ::selection {\r\n    background: rgb(220, 220, 220);\r\n    color:black;\r\n}\r\n.ballpoint-core-area.focus-theme-color ::selection {\r\n    background: steelblue;\r\n    color:white;\r\n}");class xe{constructor(e,t,n,o){this.remove=(e=!1)=>{var t;if(null==this?void 0:this.parent){if(!0===e&&(null===(t=this.children)||void 0===t?void 0:t.length)>0){const e=this.parent.children.indexOf(this);return this.children.forEach((e=>e.parent=this.parent)),void(this.parent.children=[...this.parent.children.slice(0,e),...this.children,...this.parent.children.slice(e+1)])}this.parent.children=this.parent.children.filter((e=>e!==this))}},this.wrap=e=>{var t,n;const o=null!==(n=null===(t=this.parent)||void 0===t?void 0:t.children.indexOf(this))&&void 0!==n?n:-1,r=new xe(e,this.parent);r.children=[this],this.parent=r,r.parent&&(r.parent.children[o]=r)},this.tagName=e,this.children=[],this.parent=t,this.text="",this.props=o,t&&"number"==typeof n&&n>=0&&(t.children=[...t.children.slice(0,n),this,...t.children.slice(n)]),t&&"number"==typeof n&&-1===n&&t.children.push(this)}}class me{constructor(e={allowedProps:["style"],allowedStyleProps:["text-align","font-size","color"]}){this.stylePropNameMap={"text-align":"textAlign","font-size":"fontSize",color:"color","font-family":"fontFamily"},se.set(this,(e=>{const t={};return Object.entries(e).forEach((([e,n])=>{this.config.allowedStyleProps.includes(e)&&this.stylePropNameMap[e]&&(t[this.stylePropNameMap[e]]=n)})),t})),ae.set(this,(e=>{const t={};return Object.entries(e).forEach((([e,n])=>{this.config.allowedProps.includes(e)&&(t[e]="style"===e.toLowerCase()?ge(this,se,"f").call(this,n):n)})),t})),le.set(this,(e=>{const t={};if(!e)return t;const n=e.match(/(?<=\s|^)([A-Za-z][\w:.-_]+)\s*=\s*"([^"]*)"(?=\s|$)/g);n&&n.forEach((e=>{var n,o,r,i;const s=e.match(/(?<=\s|^)(?<attrName>[A-Za-z][\w:.-_]+)\s*=\s*"(?<attrValue>[^"]*)"(?=\s|$)/);(null==s?void 0:s.groups)&&(t[null===(n=s.groups)||void 0===n?void 0:n.attrName]="style"===(null===(o=s.groups)||void 0===o?void 0:o.attrName)?ge(this,ce,"f").call(this,null===(r=s.groups)||void 0===r?void 0:r.attrValue):null===(i=s.groups)||void 0===i?void 0:i.attrValue)}));const o=e.match(/(?<=\s|^)([A-Za-z][\w:.-_]+)\s*=\s*('[^']*')(?=\s|$)/g);o&&o.forEach((e=>{var n,o,r,i;const s=e.match(/(?<=\s|^)(?<attrName>[A-Za-z][\w:.-_]+)\s*=\s*(?<attrValue>'[^']*')(?=\s|$)/);(null==s?void 0:s.groups)&&(t[null===(n=s.groups)||void 0===n?void 0:n.attrName]="style"===(null===(o=s.groups)||void 0===o?void 0:o.attrName)?ge(this,ce,"f").call(this,null===(r=s.groups)||void 0===r?void 0:r.attrValue):null===(i=s.groups)||void 0===i?void 0:i.attrValue)}));const r=e.match(/(?<=\s|^)([A-Za-z][\w:.-_]+)\s*=\s*([^\s"'=<>`]+)(?=\s|$)/g);return r&&r.forEach((e=>{var n,o,r,i;const s=e.match(/(?<=\s|^)(?<attrName>[A-Za-z][\w:.-_]+)\s*=\s*(?<attrValue>[^\s"'=<>`]+)(?=\s|$)/);(null==s?void 0:s.groups)&&(t[null===(n=s.groups)||void 0===n?void 0:n.attrName]="style"===(null===(o=s.groups)||void 0===o?void 0:o.attrName)?ge(this,ce,"f").call(this,null===(r=s.groups)||void 0===r?void 0:r.attrValue):null===(i=s.groups)||void 0===i?void 0:i.attrValue)})),t})),ce.set(this,((e,t)=>{t||(t={});const n=e.match(/((?<prop>(?:[-\w])+)\s*:\s*(?<value>(?:(?:[#\w.-])|(?:".*?")|(?:'.*?'))+))/);return n&&n.groups&&void 0!==n.index?(t[n.groups.prop]=n.groups.value,e=e.slice(n.index+n[0].length),ge(this,ce,"f").call(this,e,t)):t})),de.set(this,(e=>e.replace(/[\n\r\f]/g,"").replace(/&nbsp;/g,""))),he.set(this,(e=>e.replace(/<!--([\s\S]*?)-->/g,"").replace(/<!\[if\s+[\s\S]*?\]>[\s\S]*?<!\[endif\]>/g,""))),this.parseHtml=e=>ge(this,fe,"f").call(this,ge(this,he,"f").call(this,e)),fe.set(this,((e,t)=>{var n,o,r,i,s,a,l,c,d,h,f,u;t||(t=new xe("root"));const p=e.match(/<\/?(?<tagName>[\w:]*)(\b(?<tagProps>[^>]*))?\/?>/);if(!p){if("root"!==t.tagName)throw new Error("Parsing Error - Incorrectly formulated html. Parsed html is not closed correctly.");return t}if(void 0===p.index)throw new Error("Parsing Error - Tag match has failed due null index");if(!(null===(n=p.groups)||void 0===n?void 0:n.tagName))throw new Error("Parsing Error - Failed to extract tag name from match");const g=p[0].startsWith("</"),x=p[0].endsWith("/>");if(x&&(null===(o=p.groups)||void 0===o?void 0:o.tagProps)&&(null===(i=null===(r=p.groups)||void 0===r?void 0:r.tagProps)||void 0===i?void 0:i.length)>0&&(p.groups.tagProps=p.groups.tagProps.slice(0,-1)),p.index>0){const n=e.slice(0,p.index);if(n.trim().length>0){new xe("#text",t,-1).text=ge(this,de,"f").call(this,n)}}e=e.slice(p.index+p[0].length);if(["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"].includes(null!==(a=null===(s=p.groups)||void 0===s?void 0:s.tagName)&&void 0!==a?a:"")||!g&&x)return new xe(null===(l=p.groups)||void 0===l?void 0:l.tagName,t,-1,ge(this,ae,"f").call(this,ge(this,le,"f").call(this,null===(c=p.groups)||void 0===c?void 0:c.tagProps))),ge(this,fe,"f").call(this,e,t);if(!g&&!x){const n=new xe(null===(d=p.groups)||void 0===d?void 0:d.tagName,t,-1,ge(this,ae,"f").call(this,ge(this,le,"f").call(this,null===(h=p.groups)||void 0===h?void 0:h.tagProps)));return ge(this,fe,"f").call(this,e,n)}if(g&&!x){if(t.tagName!==(null===(f=p.groups)||void 0===f?void 0:f.tagName))throw new Error(`Parsing Error - Incorrectly formulated html. ${t.tagName} cannot be closed by ${null===(u=p.groups)||void 0===u?void 0:u.tagName}`);return ge(this,fe,"f").call(this,e,t.parent)}throw new Error("Parsing Error - Incorrectly formulated html: Corrupt tag.")})),this.parsePlainText=e=>ge(this,ue,"f").call(this,e),ue.set(this,((e,t)=>{t||(t=new xe("root"));const n=e.match(/[\n\r\f]/);if(!n){if(e.length>0){const n=new xe("p",t,-1);new xe("#text",n,-1).text=e}return t}if(!n.index)throw new Error("Parsing Error - line break match is missing an index");if(n.index>0){const o=new xe("p",t,-1),r=e.slice(0,n.index);if(r.trim().length>0){new xe("#text",o,-1).text=r}}return e=e.slice(n.index+n[0].length),ge(this,ue,"f").call(this,e,t)})),this.config=e}}function Ne(e,t,n,o){const r=["p","h1","h2","h3","h4","h5","h6"];if(n===e)return t.migrateChildren(e,0),new H({contentNode:e,startNode:n,startTextOffset:o});if(e.children.includes(n)){if(t.migrateChildren(e,e.children.indexOf(n)),["ul","ol"].includes(n.tagName)&&0===n.children.length&&(n.tagName="p"),r.includes(n.tagName)&&0===n.children.length){const t=new L("#text",n,0);return t.text="",new H({contentNode:e,startNode:t,startTextOffset:0})}return new H({contentNode:e,startNode:n,startTextOffset:o})}if(t.children.length>0){const i=e.getChildIndexArray(n);if(r.includes(e.children[i[0]].tagName)){const i=ee(e,n,o),s=i.startNode.findParentWithTagName(r),a=s?e.children.indexOf(s):0;return t.migrateChildren(e,a),i}if(["ul","ol"].includes(e.children[i[0]].tagName)){const n=V(e.children[i[0]],i[1]+1,t.children);0===n[0].children.length&&n[0].remove(!1);const o=n.at(-1);if(o&&0===o.children.length){o.tagName="p";const t=new L("#text",o,0);return t.text="",new H({contentNode:e,startNode:t,startTextOffset:0})}return new H({contentNode:e,startNode:n.at(-1),startTextOffset:0})}}return new H({contentNode:e,startNode:n,startTextOffset:o})}function ve(e,t,n){var o;let r;if(t&&t.length>0){r=pe((new me).parseHtml(t))}else if(n&&n.length>0){r=pe((new me).parsePlainText(n))}if(!r)return;const i=e.cloneState();i.selectionChange=null;const s=null===(o=document.getSelection())||void 0===o?void 0:o.getRangeAt(0),a=new H({contentNode:i.contentNode,jsRange:s});if(a.isCollapsed)i.selectionChange=Ne(i.contentNode,r,a.startNode,a.startTextOffset);else{const e=Z(i.contentNode,a);i.selectionChange=Ne(i.contentNode,r,e.startNode,e.startTextOffset)}e.updateState(i)}function be(e,t){const n=e.clone(),o=new H({contentNode:n,jsRange:t});if(o.startNode===o.endNode){"#text"===o.startNode.tagName&&(o.startNode.text=o.startNode.text.slice(o.startTextOffset,o.endTextOffset));let e=o.startNode;for(;e!==n&&e.parent;)e.parent.children=[e],e=e.parent;return n}"#text"===o.startNode.tagName&&o.startTextOffset>0&&o.startTextOffset<o.startNode.text.length&&(o.startNode=V(o.startNode,o.startTextOffset)[1],o.startTextOffset=0),"#text"===o.endNode.tagName&&o.endTextOffset>0&&o.endTextOffset<o.endNode.text.length&&(o.endNode=V(o.endNode,o.endTextOffset)[0],o.endTextOffset=o.endNode.text.length);const r=n.toFlatNodeTree(),i=r.findIndex((e=>e.nodeRef===o.startNode&&!0===e.isNodeStart));r.slice(0,i).filter((e=>!0===e.isNodeEnd)).forEach((e=>e.nodeRef.remove(!1)));const s=r.findIndex((e=>e.nodeRef===o.endNode&&!0===e.isNodeEnd));return r.slice(s+1).filter((e=>!0===e.isNodeStart)).forEach((e=>e.nodeRef.remove(!1))),n}function ye(e,t){var n;const o=null===(n=document.getSelection())||void 0===n?void 0:n.getRangeAt(0);if(!o||o.collapsed)return;const r=be(e.state.contentNode,o);t.clipboardData.setData("text/plain",r.toPlainText()),t.clipboardData.setData("text/html",r.toHtmlText(!0))}function we(e,t){var n;const o=null===(n=document.getSelection())||void 0===n?void 0:n.getRangeAt(0);if(!o||o.collapsed)return;const r=be(e.state.contentNode,o);t.clipboardData.setData("text/plain",r.toPlainText()),t.clipboardData.setData("text/html",r.toHtmlText(!0));const i=e.cloneState();i.selectionChange=null;const s=new H({contentNode:i.contentNode,jsRange:o});i.selectionChange=Z(i.contentNode,s),e.updateState(i)}se=new WeakMap,ae=new WeakMap,le=new WeakMap,ce=new WeakMap,de=new WeakMap,he=new WeakMap,fe=new WeakMap,ue=new WeakMap;class Ce{constructor(e,t){if(this.contentNode=new L("div",null),this.contentNode.className="content-node",this.temporaryTextNodeRefs=[],e&&e.length>0){const t=pe((new me).parseHtml(e));t&&t.migrateChildren(this.contentNode,-1)}else if(t&&t.length>0){const e=pe((new me).parsePlainText(t));e&&e.migrateChildren(this.contentNode,-1)}0===this.contentNode.children.length&&(this.contentNode.children=[new L("p",this.contentNode)])}}class Oe extends t{constructor(t){var n;super(t),this.fSelectionChangeListener=()=>{document.activeElement===this.inputRef.current&&function(e){var t;if((null===(t=e.state.temporaryTextNodeRefs)||void 0===t?void 0:t.length)>0){const t=e.cloneState();let n=!1;t.temporaryTextNodeRefs.forEach((e=>{var o,r,i;if((null==e?void 0:e.text.length)>0&&!e.text.match(/^\u200B+$/gi))return t.temporaryTextNodeRefs=t.temporaryTextNodeRefs.filter((t=>t!==e)),void(n=!0);const s=null===(o=document.getSelection())||void 0===o?void 0:o.getRangeAt(0),a=new H({contentNode:t.contentNode,jsRange:s});if(a.isCollapsed&&a.startNode===e)return;let l=e;n=!0;const c=["b","i","u","s","span"];for(;1===(null===(r=l.parent)||void 0===r?void 0:r.children.length)&&c.indexOf(null===(i=l.parent)||void 0===i?void 0:i.tagName)>=0;)l=l.parent;const d=l.parent;t.selectionChange=new H({contentNode:t.contentNode,jsRange:s}),l.remove(!1),t.temporaryTextNodeRefs=t.temporaryTextNodeRefs.filter((t=>t!==e)),d&&(t.selectionChange=$(d,t.selectionChange))})),n&&e.updateState(t,!1)}}(this)},this.cloneState=()=>{var e,t;const n=null!==(e=this.props.controlledCoreState)&&void 0!==e?e:this.state;let o=[...n.temporaryTextNodeRefs],r=n.contentNode.clone(o),i=new H({contentNode:r,jsRange:null===(t=document.getSelection())||void 0===t?void 0:t.getRangeAt(0)});return Object.assign(Object.assign({},n),{contentNode:r,temporaryTextNodeRefs:o,selectionChange:i})},this.saveStateAsPrior=()=>{this.priorStates=[...this.priorStates.slice(-9),this.cloneState()]},this.updateState=(e,t=!0)=>{t&&this.saveStateAsPrior(),this.props.controlledCoreState||this.setState(Object.assign({},e)),"function"==typeof this.props.onChange&&this.props.onChange(e)},this.genDefaultKeyActionsConfig=()=>({allowBold:!0,allowItalic:!0,allowUnderline:!0,allowUndo:!0,allowRedo:!0}),this.state=t.controlledCoreState?new Ce:null!==(n=t.initCoreState)&&void 0!==n?n:new Ce,this.inputRef=e.createRef(),this.priorStates=[],this.redoStates=[]}componentDidMount(){document.addEventListener("selectionchange",this.fSelectionChangeListener)}componentWillUnmount(){document.removeEventListener("selectionchange",this.fSelectionChangeListener)}componentDidUpdate(){var e;const t=null!==(e=this.props.controlledCoreState)&&void 0!==e?e:this.state;if(t.selectionChange){const e=document.getSelection(),n=t.selectionChange.toJsRange();e&&n&&(e.removeAllRanges(),e.addRange(n)),this.props.controlledCoreState||this.setState({selectionChange:null}),"function"==typeof this.props.onChange&&this.props.onChange(Object.assign(Object.assign({},t),{selectionChange:null}))}}render(){var e,t,n,o,r,i,s;const a=null!==(e=this.props.keyActionsConfig)&&void 0!==e?e:this.genDefaultKeyActionsConfig(),c=null===(n=null===(t=this.props.clipboardActionsConfig)||void 0===t?void 0:t.allowPaste)||void 0===n||n,d=null===(r=null===(o=this.props.clipboardActionsConfig)||void 0===o?void 0:o.allowCopy)||void 0===r||r,h=null===(s=null===(i=this.props.clipboardActionsConfig)||void 0===i?void 0:i.allowCut)||void 0===s||s,f=ie(this,a),u=function(e,t){return function(n){var o,r;n.preventDefault(),!0===t&&ve(e,null===(o=n.clipboardData)||void 0===o?void 0:o.getData("text/html"),null===(r=n.clipboardData)||void 0===r?void 0:r.getData("text/plain"))}}(this,c),p=function(e,t){return function(n){n.preventDefault(),!0===t&&ye(e,n)}}(this,d),g=function(e,t){return function(n){n.preventDefault(),!0===t&&we(e,n)}}(this,h);let x="default";this.props.theme&&["light","dark","default"].includes(this.props.theme)&&(x=this.props.theme);let m="focus-theme-default";this.props.focusTheme&&["monochrome-dark","monochrome-light","color","default"].includes(this.props.focusTheme)&&(m=`focus-theme-${this.props.focusTheme}`);const N=this.props.controlledCoreState?this.props.controlledCoreState.contentNode:this.state.contentNode;return l.jsx("div",Object.assign({ref:this.inputRef,className:`ballpoint-core-area ${x} ${m}`,contentEditable:!0,suppressContentEditableWarning:!0,onKeyDown:f,onPaste:u,onCopy:p,onCut:g},{children:N.toJSX()}))}}c(".ballpoint-editor {\r\n    border: 1px solid rgb(238, 238, 238);\r\n    border-bottom-width: 3px;\r\n}\r\n.ballpoint-editor.dark {\r\n    border: none;\r\n    color: white;\r\n}");class je extends t{constructor(t){super(t),this.allowParagraph=()=>!0===this.props.editorActionsConfig.allowHeader||!0===this.props.editorActionsConfig.allowBulletList||!0===this.props.editorActionsConfig.allowNumberedList,this.handleFontSizeChange=e=>{if(this.coreRef.current)switch(e){case"xl":q(this.coreRef.current,"fontSize","36px");break;case"l":q(this.coreRef.current,"fontSize","24px");break;case"m":q(this.coreRef.current,"fontSize","16px");break;case"s":q(this.coreRef.current,"fontSize","10px")}},this.handleHeaderChange=e=>{!0===this.props.editorActionsConfig.allowHeader&&this.coreRef.current&&W(this.coreRef.current,e)},this.handleFontColorChange=e=>{!0===this.props.editorActionsConfig.allowFontColorSelect&&this.coreRef.current&&q(this.coreRef.current,"color",e)},this.handleBoldClick=()=>{!0===this.props.editorActionsConfig.allowBold&&this.coreRef.current&&M(this.coreRef.current,"b")},this.handleItalicClick=()=>{!0===this.props.editorActionsConfig.allowItalic&&this.coreRef.current&&M(this.coreRef.current,"i")},this.handleUnderlineClick=()=>{!0===this.props.editorActionsConfig.allowUnderline&&this.coreRef.current&&M(this.coreRef.current,"u")},this.handleStrikethroughClick=()=>{!0===this.props.editorActionsConfig.allowStrikeOut&&this.coreRef.current&&M(this.coreRef.current,"s")},this.handleTextAlignLeftClick=()=>{!0===this.props.editorActionsConfig.allowTextAlign&&this.coreRef.current&&_(this.coreRef.current,"left")},this.handleTextAlignCenterClick=()=>{!0===this.props.editorActionsConfig.allowTextAlign&&this.coreRef.current&&_(this.coreRef.current,"center")},this.handleTextAlignRightClick=()=>{!0===this.props.editorActionsConfig.allowTextAlign&&this.coreRef.current&&_(this.coreRef.current,"right")},this.handleParagraphClick=()=>{this.allowParagraph()&&this.coreRef.current&&W(this.coreRef.current,"p")},this.handleBulletListClick=()=>{!0===this.props.editorActionsConfig.allowBulletList&&this.coreRef.current&&U(this.coreRef.current,"ul")},this.handleNumberListClick=()=>{!0===this.props.editorActionsConfig.allowNumberedList&&this.coreRef.current&&U(this.coreRef.current,"ol")},this.coreRef=e.createRef()}render(){let e="default";this.props.theme&&["light","dark","default"].includes(this.props.theme)&&(e=this.props.theme);let t="default";switch(e){case"light":t="monochrome-light";break;case"dark":t="monochrome-dark";break;case"default":t="color"}const n={displayBoldButton:!0===this.props.editorActionsConfig.allowBold,displayItalicButton:!0===this.props.editorActionsConfig.allowItalic,displayUnderlineButton:!0===this.props.editorActionsConfig.allowUnderline,displayStrikeoutButton:!0===this.props.editorActionsConfig.allowStrikeOut,displayFontSizeButton:!0===this.props.editorActionsConfig.allowFontSizeSelect,displayFontColorButton:!0===this.props.editorActionsConfig.allowFontColorSelect,displayTextAlignLeftButton:!0===this.props.editorActionsConfig.allowTextAlign,displayTextAlignCenterButton:!0===this.props.editorActionsConfig.allowTextAlign,displayTextAlignRightButton:!0===this.props.editorActionsConfig.allowTextAlign,displayParagraphButton:!0===this.props.editorActionsConfig.allowHeader,displayHeaderButton:this.allowParagraph(),displayBulletListButton:!0===this.props.editorActionsConfig.allowBulletList,displayNumberListButton:!0===this.props.editorActionsConfig.allowNumberedList},o={allowBold:!0===this.props.editorActionsConfig.allowBold,allowItalic:!0===this.props.editorActionsConfig.allowItalic,allowUnderline:!0===this.props.editorActionsConfig.allowUnderline,allowUndo:!0===this.props.editorActionsConfig.allowUndo,allowRedo:!0===this.props.editorActionsConfig.allowRedo},r={allowCopy:!0===this.props.editorClipboardActionsConfig.allowCopy,allowCut:!0===this.props.editorClipboardActionsConfig.allowCut,allowPaste:!0===this.props.editorClipboardActionsConfig.allowPaste},i=this.props.initHtml||this.props.initPlainText?new Ce(this.props.initHtml,this.props.initPlainText):void 0;return l.jsxs("div",Object.assign({className:`ballpoint-editor ${e}`},{children:[l.jsx(z,{toolbarStyle:this.props.theme,toolbarOptions:n,onFontSizeChange:this.handleFontSizeChange,onFontColorChange:this.handleFontColorChange,onBoldClick:this.handleBoldClick,onItalicClick:this.handleItalicClick,onUnderlineClick:this.handleUnderlineClick,onStrikeoutClick:this.handleStrikethroughClick,onTextAlignLeftClick:this.handleTextAlignLeftClick,onTextAlignCenterClick:this.handleTextAlignCenterClick,onTextAlignRightClick:this.handleTextAlignRightClick,onParagraphClick:this.handleParagraphClick,onBulletListClick:this.handleBulletListClick,onNumberListClick:this.handleNumberListClick,onHeaderChange:this.handleHeaderChange}),l.jsx(Oe,{ref:this.coreRef,theme:this.props.theme,keyActionsConfig:o,clipboardActionsConfig:r,focusTheme:t,initCoreState:i,controlledCoreState:this.props.controlledCoreState,onChange:this.props.onChange})]}))}}je.defaultProps={editorActionsConfig:{allowBold:!0,allowItalic:!0,allowUnderline:!0,allowStrikeOut:!0,allowFontSizeSelect:!0,allowFontColorSelect:!0,allowTextAlign:!0,allowHeader:!0,allowBulletList:!0,allowNumberedList:!0,allowUndo:!0,allowRedo:!0},editorClipboardActionsConfig:{allowCopy:!0,allowCut:!0,allowPaste:!0}};export{Oe as Core,Ce as CoreState,je as Editor,z as Toolbar,_ as actionApplyAlignment,M as actionApplyFormatting,q as actionApplyStyle,ye as actionCopy,we as actionCut,W as actionFormatAsHeaderOrParagraph,U as actionFormatAsList,ve as actionPaste,oe as actionRedo,re as actionUndo};
//# sourceMappingURL=index.js.map
